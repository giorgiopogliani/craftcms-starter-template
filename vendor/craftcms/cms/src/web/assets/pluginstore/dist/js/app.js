(function(t){function e(e){for(var i,s,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},a={app:0},r=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0a61":function(t,e,n){},"0db1":function(t,e,n){},"129c":function(t,e,n){},"1b4f":function(t,e,n){"use strict";var i=n("f616"),a=n.n(i);a.a},"2c0a":function(t,e,n){"use strict";var i=n("750e"),a=n.n(i);a.a},"2d45":function(t,e,n){"use strict";var i=n("daf1"),a=n.n(i);a.a},"34ad":function(t,e,n){"use strict";var i=n("915b"),a=n.n(i);a.a},"3cd8":function(t,e,n){"use strict";var i=n("f816"),a=n.n(i);a.a},4322:function(t,e,n){"use strict";var i=n("ed0e"),a=n.n(i);a.a},4394:function(t,e,n){},"44d6":function(t,e,n){"use strict";var i=n("c8ad"),a=n.n(i);a.a},4565:function(t,e,n){},"4db5":function(t,e,n){"use strict";var i=n("fd1f"),a=n.n(i);a.a},"4ec3":function(t,e,n){"use strict";var i=n("0db1"),a=n.n(i);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("4de4");var i=n("5530"),a=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("8bbf")),r=n.n(a),s=n("cebe"),o=n.n(s),c=(n("acd8"),n("f545")),l=n.n(c);function u(t){var e=2,n=parseFloat(t);return Math.round(n)===n&&(e=0),n<0?"-"+l.a.formatMoney(-1*n,"$",e):l.a.formatMoney(n,"$",e)}function d(t){return Craft.escapeHtml(t)}function p(t,e,n){return Craft.t(e,t,n)}function f(t){return Craft.formatDate(t)}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",.0f";return Craft.formatNumber(t,e)}var h=n("6389"),m=n.n(h),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ps-container"},[t.loading?[n("spinner")]:[t._l(t.featuredSections,(function(e,i){return n("div",{key:"featuredSection-"+i},[n("div",{staticClass:"flex items-baseline justify-between",class:{"mt-8":i>0}},[n("h2",[t._v(t._s(e.title))]),n("router-link",{staticClass:"right",attrs:{to:"/featured/"+e.slug}},[t._v(t._s(t._f("t")("See all","app")))])],1),n("plugin-grid",{attrs:{plugins:e.plugins,"auto-limit":!0}})],1)})),t.activeTrialPlugins.length>0||t.activeTrialsError?[n("h2",[t._v(t._s(t._f("t")("Active Trials","app")))]),t.activeTrialPlugins.length>0?[n("plugin-grid",{attrs:{plugins:t.activeTrialPlugins,trialMode:!0}})]:t._e(),t.activeTrialsError?[n("div",{staticClass:"mb-8"},[n("p",{staticClass:"error"},[t._v(t._s(t.activeTrialsError))])])]:t._e()]:t._e()]],2)},C=[],b=n("5880"),y=n.n(b),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.plugins&&t.plugins.length>0?n("div",{staticClass:"ps-grid-plugins"},t._l(t.computedPlugins,(function(e,i){return n("div",{key:i,staticClass:"ps-grid-box"},[n("plugin-card",{attrs:{plugin:e,trialMode:t.trialMode}})],1)})),0):t._e()])},I=[],w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.plugin?n("router-link",{staticClass:"plugin-card relative tw-flex flex-no-wrap items-start py-6 border-b border-grey-light border-solid no-underline hover:no-underline text-grey-darkest",attrs:{to:"/"+t.plugin.handle,title:t.plugin.name}},[n("div",{staticClass:"plugin-icon mr-4"},[t.plugin.iconUrl?n("img",{attrs:{src:t.plugin.iconUrl}}):n("img",{attrs:{src:t.defaultPluginSvg}})]),n("div",[n("div",{staticClass:"plugin-details-header"},[n("div",{staticClass:"plugin-name"},[n("strong",[t._v(t._s(t.plugin.name))]),t.trialMode&&t.activeTrialPluginEdition&&t.plugin.editions.length>1?n("edition-badge",{attrs:{name:t.activeTrialPluginEdition.name}}):t._e()],1),n("div",[t._v(t._s(t.plugin.shortDescription))])]),n("p",{staticClass:"light"},[t.priceRange.min!==t.priceRange.max?[t.priceRange.min>0?[t._v(" "+t._s(t._f("currency")(t.priceRange.min))+" ")]:[t._v(" "+t._s(t._f("t")("Free","app"))+" ")],t._v(" - "+t._s(t._f("currency")(t.priceRange.max))+" ")]:[t.priceRange.min>0?[t._v(" "+t._s(t._f("currency")(t.priceRange.min))+" ")]:[t._v(" "+t._s(t._f("t")("Free","app"))+" ")]]],2),t.isPluginInstalled(t.plugin.handle)?n("div",{staticClass:"installed",attrs:{"data-icon":"check"}}):t._e()])]):t._e()},P=[],M=(n("e25e"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"edition-badge",class:t.cssClass},[n("div",{staticClass:"edition-badge-name"},[t._v(t._s(t.name))])])}),D=[],S=(n("1393"),{props:["name","block","big"],computed:{cssClass:function(){var t={};return"undefined"!==typeof this.block&&(t["is-block"]=!0),"undefined"!==typeof this.big&&(t["is-big"]=!0),t}}}),x=S,E=(n("4322"),n("2877")),k=Object(E["a"])(x,M,D,!1,null,"6325cadb",null),T=k.exports,O={props:["plugin","trialMode"],components:{EditionBadge:T},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(b["mapState"])({defaultPluginSvg:function(t){return t.craft.defaultPluginSvg}})),Object(b["mapGetters"])({isPluginInstalled:"craft/isPluginInstalled",getActiveTrialPluginEdition:"cart/getActiveTrialPluginEdition"})),{},{activeTrialPluginEdition:function(){return this.getActiveTrialPluginEdition(this.plugin)},priceRange:function(){for(var t=this.plugin.editions,e=null,n=null,i=0;i<t.length;i++){var a=t[i],r=0;a.price&&(r=parseInt(a.price)),null===e&&(e=r),null===n&&(n=r),r<e&&(e=r),r>n&&(n=r)}return{min:e,max:n}}})},j=O,N=(n("2d45"),Object(E["a"])(j,w,P,!1,null,"2c34d508",null)),L=N.exports,A={components:{PluginCard:L},props:["plugins","trialMode","autoLimit"],data:function(){return{winWidth:null}},computed:{computedPlugins:function(){var t=this;return this.plugins.filter((function(e,n){return!(t.autoLimit&&!(t.autoLimit&&n<t.limit))}))},limit:function(){var t=this.plugins.length;this.winWidth<1400&&(t=4);var e=t%(this.oddNumberOfColumns?3:2);return t-e},oddNumberOfColumns:function(){return!(this.winWidth<1400||this.winWidth>=1824)}},methods:{onWindowResize:function(){this.winWidth=window.innerWidth}},mounted:function(){this.winWidth=window.innerWidth,this.$root.$on("windowResize",this.onWindowResize)},beforeDestroy:function(){this.$root.$off("windowResize",this.onWindowResize)}},z=A,B=Object(E["a"])(z,_,I,!1,null,null,null),U=B.exports,R={components:{PluginGrid:U},data:function(){return{activeTrialsError:null,activeTrialsLoaded:!1,featuredSectionsLoaded:!1,loading:!1}},computed:Object(i["a"])({},Object(b["mapState"])({activeTrialPlugins:function(t){return t.cart.activeTrialPlugins},featuredSections:function(t){return t.pluginStore.featuredSections}})),mounted:function(){var t=this;this.$store.commit("cart/updateActiveTrialPlugins",[]),this.$store.commit("pluginStore/updateFeaturedSections",[]),this.activeTrialsLoaded=!1,this.featuredSectionsLoaded=!1,this.loading=!0,this.$store.dispatch("pluginStore/getFeaturedSections").then((function(){t.featuredSectionsLoaded=!0,t.$emit("dataLoaded")})).catch((function(){t.featuredSectionsLoaded=!0,t.$emit("dataLoaded")})),this.$store.dispatch("cart/getActiveTrialPlugins").then((function(){t.activeTrialsLoaded=!0,t.$emit("dataLoaded")})).catch((function(){t.activeTrialsError=t.$options.filters.t("Couldn’t load active trials.","app"),t.activeTrialsLoaded=!0,t.$emit("dataLoaded")})),this.$on("dataLoaded",(function(){if(!t.featuredSectionsLoaded||!t.activeTrialsLoaded)return null;t.loading=!1}))}},Q=R,G=Object(E["a"])(Q,v,C,!1,null,null,null),H=G.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.category?n("div",{staticClass:"ps-container"},[n("plugin-index",{attrs:{action:"pluginStore/getPluginsByCategory",requestData:t.requestData,plugins:t.plugins},scopedSlots:t._u([{key:"header",fn:function(){return[n("h1",[t._v(t._s(t.category.title))])]},proxy:!0}],null,!1,3653016063)})],1):t._e()},Y=[],q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"border-b border-solid border-grey-light py-2 flex justify-between"},[t._t("header"),t.disableSorting?t._e():[n("plugin-index-sort",{attrs:{loading:t.loading,orderBy:t.orderBy,direction:t.direction},on:{"update:orderBy":function(e){t.orderBy=e},"update:order-by":function(e){t.orderBy=e},"update:direction":function(e){t.direction=e},change:t.onOrderByChange}})]],2),n("plugin-grid",{attrs:{plugins:t.plugins}}),0!==t.plugins.length||t.loadingBottom||t.loading?t._e():n("div",{staticClass:"mt-4"},[n("p",[t._v(t._s(t._f("t")("No results.","app")))])]),t.error?n("div",{staticClass:"my-4 text-red"},[t._v(t._s(t.error))]):t._e(),t.loadingBottom||t.disableSorting&&t.loading?n("spinner",{staticClass:"my-4"}):t._e()],1)},K=[],V=(n("b64b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex self-end"},[t.loading?n("spinner",{staticClass:"mt-2 mr-4"}):t._e(),n("sort-menu-btn",{attrs:{attributes:t.sortMenuBtnAttributes,value:t.options},on:{"update:value":function(e){t.options=e}}})],1)}),Z=[],W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"sortMenuBtn"},[n("div",{staticClass:"btn menubtn sortmenubtn",attrs:{"data-icon":t.value.direction}},[t._v(t._s(t.menuLabel))]),n("div",{staticClass:"menu"},[n("ul",{staticClass:"padded sort-attributes"},t._l(t.attributes,(function(e,i){return n("li",{key:i},[n("a",{class:{sel:t.value.attribute==i},on:{click:function(e){return t.selectAttribute(i)}}},[t._v(t._s(e))])])})),0),n("hr"),n("ul",{staticClass:"padded sort-directions"},t._l(t.directions,(function(e,i){return n("li",{key:i},[n("a",{class:{sel:t.value.direction==i},on:{click:function(e){return t.selectDirection(i)}}},[t._v(t._s(e))])])})),0)])])},J=[],X={props:["attributes","value"],data:function(){return{defaultDirection:"asc",directions:{}}},computed:Object(i["a"])(Object(i["a"])({},Object(b["mapState"])({sortOptions:function(t){return t.pluginStore.sortOptions}})),{},{menuLabel:function(){return this.attributes?this.attributes[this.value.attribute]:null}}),methods:{selectAttribute:function(t){var e=this.sortOptions[t]?this.sortOptions[t]:this.value.direction;this.$emit("update:value",{attribute:t,direction:e})},selectDirection:function(t){this.$emit("update:value",{attribute:this.value.attribute,direction:t})}},mounted:function(){var t=this;this.directions={asc:this.$options.filters.t("Ascending","app"),desc:this.$options.filters.t("Descending","app")},this.$nextTick((function(){t.value.direction||t.$emit("update:value",{attribute:t.value.attribute,direction:t.defaultDirection}),Craft.initUiElements(t.$refs.sortMenuBtn)}))}},tt=X,et=Object(E["a"])(tt,W,J,!1,null,null,null),nt=et.exports,it={props:["loading","orderBy","direction"],components:{SortMenuBtn:nt},data:function(){return{selectedAttribute:null,selectedDirection:null,sortMenuBtnAttributes:null,options:{attribute:null,direction:null}}},watch:{options:function(){this.$emit("update:orderBy",this.options.attribute),this.$emit("update:direction",this.options.direction),this.$emit("change")}},mounted:function(){this.options.attribute=this.orderBy,this.options.direction=this.direction,this.sortMenuBtnAttributes={popularity:this.$options.filters.t("Popularity","app"),dateUpdated:this.$options.filters.t("Last Update","app"),name:this.$options.filters.t("Name","app")}}},at=it,rt=Object(E["a"])(at,V,Z,!1,null,null,null),st=rt.exports,ot={props:["plugins","action","requestData","disableSorting"],components:{PluginGrid:U,PluginIndexSort:st},data:function(){return{orderBy:null,direction:null,loading:!1,loadingBottom:!1,hasMore:!1,page:1,error:null}},computed:Object(i["a"])(Object(i["a"])({},Object(b["mapState"])({sortOptions:function(t){return t.pluginStore.sortOptions}})),{},{requestActionData:function(){return Object(i["a"])(Object(i["a"])({},this.requestData),{},{page:this.page,orderBy:this.orderBy,direction:this.direction})}}),methods:{onOrderByChange:function(){this.error=null,this.requestPlugins(!0)},onScroll:function(){var t=this;if(this.$root.$off("viewScroll",this.onScroll),this.$root.$off("windowScroll",this.onScroll),!0===this.loadingBottom&&!0===this.hasMore)return null;this.scrollDistFromBottom()<300?this.requestPlugins(!1,(function(e){e.currentPage<e.total&&(t.$root.$on("viewScroll",t.onScroll),t.$root.$on("windowScroll",t.onScroll))})):(this.$root.$on("viewScroll",this.onScroll),this.$root.$on("windowScroll",this.onScroll))},onWindowResize:function(){return this.hasMore?this.viewHasScrollbar()?null:void this.requestPlugins():null},requestPlugins:function(t,e){var n=this;return this.loading||this.loadingBottom?null:t||this.hasMore?(t?(this.page=1,this.plugins.length>0?this.loading=!0:this.loadingBottom=!0):this.loadingBottom=!0,void this.$store.dispatch(this.action,Object(i["a"])(Object(i["a"])({},this.requestActionData),{},{appendData:!t})).then((function(t){if(t&&t.error)throw t.error;n.loading=!1,n.loadingBottom=!1,t.currentPage<t.total?(n.hasMore=!0,n.page++,n.viewHasScrollbar()||n.requestPlugins()):n.hasMore=!1,"function"===typeof e&&e(t)})).catch((function(t){var e=n.$options.filters.t("Couldn’t get plugins.","app");throw"string"===typeof t&&(e=t),n.error=e,n.loading=!1,n.loadingBottom=!1,t}))):null},scrollContainer:function(){return"view"===this.scrollMode()?document.getElementById("content").getElementsByClassName("ps-main")[0]:document.documentElement},scrollDistFromBottom:function(){var t=this.scrollContainer(),e=t.scrollTop,n=t.scrollHeight,i=window.outerHeight;return"view"===this.scrollMode()&&(i=t.offsetHeight),n-Math.max(e+i,0)},scrollMode:function(){return window.innerWidth>=975?"view":"window"},viewHasScrollbar:function(){var t=this.scrollContainer();return t.clientHeight<t.scrollHeight}},created:function(){var t=Object.keys(this.sortOptions),e=t[0];this.orderBy=e,this.direction=this.sortOptions[e]},mounted:function(){var t=this;this.$store.commit("pluginStore/updatePlugins",[]),this.$nextTick((function(){t.requestPlugins(!0,(function(e){e.currentPage<e.total&&(t.$root.$on("viewScroll",t.onScroll),t.$root.$on("windowScroll",t.onScroll),t.$root.$on("windowResize",t.onWindowResize))}))}))},beforeDestroy:function(){this.error=null,this.$root.$off("viewScroll",this.onScroll),this.$root.$off("windowScroll",this.onScroll),this.$root.$off("windowResize",this.onWindowResize),this.$store.dispatch("pluginStore/cancelRequests")}},ct=ot,lt=Object(E["a"])(ct,q,K,!1,null,null,null),ut=lt.exports,dt={components:{PluginIndex:ut},data:function(){return{category:null}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(b["mapState"])({plugins:function(t){return t.pluginStore.plugins}})),Object(b["mapGetters"])({getCategoryById:"pluginStore/getCategoryById"})),{},{requestData:function(){return{categoryId:this.category.id}}}),methods:Object(i["a"])({},Object(b["mapActions"])({getPluginsByCategory:"pluginStore/getPluginsByCategory"})),mounted:function(){var t=this.$route.params.id;this.category=this.getCategoryById(t)}},pt=dt,ft=Object(E["a"])(pt,F,Y,!1,null,null,null),gt=ft.exports,ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ps-container"},[n("h1",[t._v(t._s(t._f("t")("Upgrade Craft CMS","app")))]),n("hr"),n("cms-editions")],1)},mt=[],vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?[n("spinner")]:[n("div",{staticClass:"cms-editions"},t._l(t.cmsEditions,(function(t,e){return n("cms-edition",{key:e,attrs:{edition:t}})})),1)]],2)},Ct=[],bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cms-editions-edition"},[n("div",{staticClass:"description"},[n("edition-badge",{attrs:{name:t.edition.name,block:"",big:""}}),n("p",{staticClass:"edition-description"},[t._v(t._s(t.editionDescription))]),n("div",{staticClass:"price"},[t.edition.price&&t.edition.price>0?[t._v(" "+t._s(t._f("currency")(t.edition.price))+" ")]:[t._v(" "+t._s(t._f("t")("Free","app"))+" ")]],2),t.edition.price&&t.edition.price>0?n("p",{staticClass:"-mt-8 py-6 text-grey-dark"},[t._v(" "+t._s(t._f("t")("Price includes 1 year of updates.","app"))),n("br"),t._v(" "+t._s(t._f("t")("{renewalPrice}/year per site for updates after that.","app",{renewalPrice:t.$options.filters.currency(t.edition.renewalPrice)}))+" ")]):t._e(),n("ul",t._l(t.features,(function(e,i){return n("li",{key:i},[n("icon",{attrs:{icon:"check"}}),t._v(" "+t._s(e.name)+" "),e.description?n("info-hud",[t._v(" "+t._s(e.description)+" ")]):t._e()],1)})),0)],1),n("div",{staticClass:"cms-edition-actions"},[n("status-badge",{attrs:{edition:t.editionIndex}}),n("buy-btn",{attrs:{edition:t.editionIndex,"edition-handle":t.edition.handle}})],1)])},yt=[],_t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"info-hud"},[n("v-popover",{attrs:{placement:"right"}},[n("icon",{attrs:{icon:"info-circle"}}),n("template",{slot:"popover"},[t._t("default")],2)],2)],1)},It=[],wt=n("e37d");r.a.use(wt["a"]),wt["a"].options.autoHide=!1;var Pt={},Mt=Pt,Dt=(n("694d"),Object(E["a"])(Mt,_t,It,!1,null,null,null)),St=Dt.exports,xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cms-edition-status-badge"},[t.CraftEdition==t.edition?[t.licensedEdition>=t.edition?[n("license-status",{attrs:{status:"installed",description:t._f("t")("Installed","app")}})]:[n("license-status",{attrs:{status:"installed",description:t._f("t")("Installed as a trial","app")}})]]:t.licensedEdition==t.edition?[n("license-status",{attrs:{status:"licensed",description:t._f("t")("Licensed","app")}})]:t._e()],2)},Et=[],kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("btn",{class:"license-status "+t.status,attrs:{icon:"check",disabled:!0,block:"",large:"",outline:""}},[t._v(" "+t._s(t.description)+" ")])},Tt=[],Ot={props:["status","description"]},$t=Ot,jt=(n("c7f8"),Object(E["a"])($t,kt,Tt,!1,null,"646c43d8",null)),Nt=jt.exports,Lt={props:["edition"],components:{LicenseStatus:Nt},computed:Object(i["a"])({},Object(b["mapState"])({CraftEdition:function(t){return t.craft.CraftEdition},licensedEdition:function(t){return t.craft.licensedEdition}}))},At=Lt,zt=Object(E["a"])(At,xt,Et,!1,null,null,null),Bt=zt.exports,Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.edition>t.licensedEdition?[t.isCmsEditionInCart(t.editionHandle)?[n("btn",{attrs:{block:"",large:"",submit:"",disabled:""}},[t._v(t._s(t._f("t")("Added to cart","app")))])]:[n("btn",{attrs:{kind:"primary",block:"",large:""},on:{click:function(e){return t.buyCraft(t.editionHandle)}}},[t._v(t._s(t._f("t")("Buy now","app")))])]]:t._e(),t.canTestEditions&&t.edition!=t.CraftEdition&&t.edition>t.licensedEdition?[n("btn",{attrs:{block:"",large:""},on:{click:function(e){return t.installCraft(t.editionHandle)}}},[t._v(t._s(t._f("t")("Try for free","app")))])]:t._e(),t.edition==t.licensedEdition&&t.edition!=t.CraftEdition?[n("btn",{attrs:{block:"",large:""},on:{click:function(e){return t.installCraft(t.editionHandle)}}},[t._v(t._s(t._f("t")("Reactivate","app")))])]:t._e(),t.loading?n("spinner"):t._e()],2)},Rt=[],Qt={props:["edition","edition-handle"],data:function(){return{loading:!1}},computed:Object(i["a"])(Object(i["a"])({},Object(b["mapState"])({canTestEditions:function(t){return t.craft.canTestEditions},CraftEdition:function(t){return t.craft.CraftEdition},licensedEdition:function(t){return t.craft.licensedEdition}})),Object(b["mapGetters"])({isCmsEditionInCart:"cart/isCmsEditionInCart"})),methods:Object(i["a"])(Object(i["a"])({},Object(b["mapActions"])({addToCart:"cart/addToCart",getCraftData:"craft/getCraftData",tryEdition:"craft/tryEdition"})),{},{buyCraft:function(t){var e=this;this.loading=!0;var n={type:"cms-edition",edition:t};this.addToCart([n]).then((function(){e.loading=!1,e.$root.openModal("cart")})).catch((function(){e.loading=!1}))},installCraft:function(t){var e=this;this.loading=!0,this.tryEdition(t).then((function(){e.getCraftData().then((function(){e.loading=!1,e.$root.displayNotice("Craft CMS edition changed.")}))})).catch((function(){e.loading=!1,e.$root.displayError("Couldn’t change Craft CMS edition.")}))}})},Gt=Qt,Ht=Object(E["a"])(Gt,Ut,Rt,!1,null,null,null),Ft=Ht.exports,Yt={props:["edition"],components:{InfoHud:St,StatusBadge:Bt,BuyBtn:Ft,EditionBadge:T},computed:Object(i["a"])(Object(i["a"])({},Object(b["mapGetters"])({getCmsEditionFeatures:"craft/getCmsEditionFeatures"})),{},{editionDescription:function(){switch(this.edition.handle){case"solo":return this.$options.filters.t("For when you’re building a website for yourself or a friend.","app");case"pro":return this.$options.filters.t("For when you’re building something professionally for a client or team.","app");default:return null}},editionIndex:function(){switch(this.edition.handle){case"solo":return this.$store.state.craft.CraftSolo;case"pro":return this.$store.state.craft.CraftPro;default:return null}},features:function(){return this.getCmsEditionFeatures(this.edition.handle)}})},qt=Yt,Kt=(n("c48d"),Object(E["a"])(qt,bt,yt,!1,null,null,null)),Vt=Kt.exports,Zt={components:{CmsEdition:Vt},data:function(){return{loading:!1}},computed:Object(i["a"])({},Object(b["mapState"])({cmsEditions:function(t){return t.pluginStore.cmsEditions}})),mounted:function(){var t=this;this.cmsEditions||(this.loading=!0,this.$store.dispatch("pluginStore/getCmsEditions").then((function(){t.loading=!1})).catch((function(){t.loading=!1})))},beforeDestroy:function(){this.$store.dispatch("pluginStore/cancelRequests")}},Wt=Zt,Jt=(n("2c0a"),Object(E["a"])(Wt,vt,Ct,!1,null,null,null)),Xt=Jt.exports,te={components:{CmsEditions:Xt}},ee=te,ne=Object(E["a"])(ee,ht,mt,!1,null,null,null),ie=ne.exports,ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ps-container"},[t.loading?[n("spinner")]:[n("plugin-index",{attrs:{action:"pluginStore/getPluginsByDeveloperId",requestData:t.requestData,plugins:t.plugins},scopedSlots:t._u([{key:"header",fn:function(){return[t.developer?n("div",{staticClass:"developer-card tw-flex pb-2 items-center"},[n("div",{staticClass:"avatar inline-block overflow-hidden rounded-full bg-grey mr-6 no-line-height"},[n("img",{attrs:{src:t.developer.photoUrl,width:"120",height:"120"}})]),n("div",{staticClass:"flex-1"},[n("h1",{staticClass:"text-lg font-bold mb-2"},[t._v(t._s(t.developer.developerName))]),t.developer.location?n("p",{staticClass:"mb-1"},[t._v(t._s(t.developer.location))]):t._e(),t.developer.developerUrl?n("ul",[n("li",{staticClass:"mr-4 inline-block"},[n("btn",{attrs:{href:t.developer.developerUrl,block:""}},[t._v(t._s(t._f("t")("Website","app")))])],1)]):t._e()])]):t._e()]},proxy:!0}],null,!1,2430225880)})]],2)},re=[],se={data:function(){return{loading:!0}},components:{PluginIndex:ut},computed:Object(i["a"])(Object(i["a"])({},Object(b["mapState"])({developer:function(t){return t.pluginStore.developer},plugins:function(t){return t.pluginStore.plugins}})),{},{requestData:function(){return{developerId:this.$route.params.id}}}),mounted:function(){var t=this,e=this.$route.params.id;this.$store.dispatch("pluginStore/getDeveloper",e).then((function(){t.loading=!1})).catch((function(){t.loading=!1}))}},oe=se,ce=(n("3cd8"),Object(E["a"])(oe,ae,re,!1,null,"cb02f7c2",null)),le=ce.exports,ue=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ps-container"},[t.loading?[n("spinner")]:[n("plugin-index",{attrs:{action:"pluginStore/getPluginsByFeaturedSectionHandle",requestData:t.requestData,plugins:t.plugins,disableSorting:!0},scopedSlots:t._u([{key:"header",fn:function(){return[t.featuredSection?[n("h1",[t._v(t._s(t.featuredSection.title))])]:t._e()]},proxy:!0}],null,!1,780213750)})]],2)},de=[],pe={components:{PluginIndex:ut},data:function(){return{loading:!0,pluginsLoaded:!1,sectionLoaded:!1}},computed:Object(i["a"])(Object(i["a"])({},Object(b["mapState"])({featuredSection:function(t){return t.pluginStore.featuredSection},plugins:function(t){return t.pluginStore.plugins}})),{},{requestData:function(){return{featuredSectionHandle:this.$route.params.handle}}}),mounted:function(){var t=this;this.$store.commit("pluginStore/updatePlugins",[]);var e=this.$route.params.handle;this.$store.dispatch("pluginStore/getFeaturedSectionByHandle",e).then((function(){t.loading=!1})).catch((function(){t.loading=!1}))}},fe=pe,ge=Object(E["a"])(fe,ue,de,!1,null,null,null),he=ge.exports,me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ps-container buy-plugin"},[t.loading?n("status-message",{attrs:{message:t.statusMessage}}):t._e()],1)},ve=[],Ce=(n("c975"),n("a15b"),n("d3b7"),o.a.CancelToken),be=Ce.source(),ye={cancelRequests:function(){be.cancel(),be=Ce.source()},getCoreData:function(){return new Promise((function(t,e){Craft.sendApiRequest("GET","plugin-store/core-data",{cancelToken:be.token}).then((function(e){t(e)})).catch((function(t){o.a.isCancel(t)||e(t)}))}))},getCmsEditions:function(){return new Promise((function(t,e){Craft.sendApiRequest("GET","cms-editions",{cancelToken:be.token}).then((function(e){t(e)})).catch((function(t){o.a.isCancel(t)||e(t)}))}))},getDeveloper:function(t){return new Promise((function(e,n){Craft.sendApiRequest("GET","developer/"+t,{cancelToken:be.token}).then((function(t){e(t)})).catch((function(t){o.a.isCancel(t)||n(t)}))}))},getFeaturedSectionByHandle:function(t){return new Promise((function(e,n){Craft.sendApiRequest("GET","plugin-store/featured-section/"+t,{cancelToken:be.token}).then((function(t){e(t)})).catch((function(t){o.a.isCancel(t)||n(t)}))}))},getFeaturedSections:function(){return new Promise((function(t,e){Craft.sendApiRequest("GET","plugin-store/featured-sections",{cancelToken:be.token}).then((function(e){t(e)})).catch((function(t){o.a.isCancel(t)||e(t)}))}))},getPluginChangelog:function(t){return new Promise((function(e,n){Craft.sendApiRequest("GET","plugin/"+t+"/changelog",{cancelToken:be.token}).then((function(t){e(t)})).catch((function(t){o.a.isCancel(t)||n(t)}))}))},getPluginDetails:function(t){return new Promise((function(e,n){Craft.sendApiRequest("GET","plugin/"+t,{cancelToken:be.token}).then((function(t){e(t)})).catch((function(t){o.a.isCancel(t)||n(t)}))}))},getPluginDetailsByHandle:function(t){return new Promise((function(e,n){Craft.sendApiRequest("GET","plugin-store/plugin/"+t,{cancelToken:be.token}).then((function(t){e(t)})).catch((function(t){o.a.isCancel(t)||n(t)}))}))},getPluginsByCategory:function(t,e){var n=this;return new Promise((function(i,a){var r=n._getPluginIndexParams(e);r.categoryId=t,Craft.sendApiRequest("GET","plugin-store/plugins",{cancelToken:be.token,params:r}).then((function(t){i(t)})).catch((function(t){o.a.isCancel(t)||a(t)}))}))},getPluginsByDeveloperId:function(t,e){var n=this;return new Promise((function(i,a){var r=n._getPluginIndexParams(e);r.developerId=t,Craft.sendApiRequest("GET","plugin-store/plugins",{cancelToken:be.token,params:r}).then((function(t){i(t)})).catch((function(t){o.a.isCancel(t)||a(t)}))}))},getPluginsByFeaturedSectionHandle:function(t,e){var n=this;return new Promise((function(i,a){var r=n._getPluginIndexParams(e);Craft.sendApiRequest("GET","plugin-store/plugins-by-featured-section/"+t,{cancelToken:be.token,params:r}).then((function(t){i(t)})).catch((function(t){o.a.isCancel(t)||a(t)}))}))},getPluginsByHandles:function(t){return new Promise((function(e,n){var i;i=Array.isArray(t)?t.join(","):t,Craft.sendApiRequest("GET","plugin-store/plugins-by-handles",{cancelToken:be.token,params:{pluginHandles:i}}).then((function(t){e(t)})).catch((function(t){o.a.isCancel(t)||n(t)}))}))},getPluginsByIds:function(t){return new Promise((function(e,n){var i;i=Array.isArray(t)?t.join(","):t,Craft.sendApiRequest("GET","plugins",{cancelToken:be.token,params:{ids:i}}).then((function(t){e(t)})).catch((function(t){o.a.isCancel(t)||n(t)}))}))},searchPlugins:function(t,e){var n=this;return new Promise((function(i,a){var r=n._getPluginIndexParams(e);r.searchQuery=t,Craft.sendApiRequest("GET","plugin-store/plugins",{cancelToken:be.token,params:r}).then((function(t){i(t)})).catch((function(t){o.a.isCancel(t)||a(t)}))}))},_getPluginIndexParams:function(t){var e=t.perPage,n=t.page,i=t.orderBy,a=t.direction;return e||(e=96),n||(n=1),{perPage:e,page:n,orderBy:i,direction:a}}},_e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"status-message"},[n("div",[t.error?[n("icon",{attrs:{icon:"exclamation-triangle"}})]:[n("spinner",{attrs:{size:"lg"}})],n("div",{staticClass:"message"},[t._v(t._s(t.message))])],2)])},Ie=[],we={props:["message","error"]},Pe=we,Me=(n("44d6"),Object(E["a"])(Pe,_e,Ie,!1,null,null,null)),De=Me.exports,Se={data:function(){return{loading:!1,statusMessage:null}},components:{StatusMessage:De},methods:{buyPlugin:function(t,e){var n=this;ye.getPluginDetailsByHandle(t).then((function(t){var i=t;if(!n.isPluginBuyable(i))return n.loading=!1,void n.$router.push({path:"/"});if(n.isInCart(i))n.$router.push({path:"/"}),n.$root.openModal("cart");else{e||(e=i.editions[0].handle);var a={type:"plugin-edition",plugin:i.handle,edition:e};n.$store.dispatch("cart/addToCart",[a]).then((function(){n.loading=!1,n.$router.push({path:"/"}),n.$root.openModal("cart")})).catch((function(t){throw t}))}})).catch((function(t){throw t}))},isPluginBuyable:function(t){var e=t.editions[0].price;if(null===e)return!1;if(0===parseFloat(e))return!1;if(!this.isPluginInstalled(t.handle))return!0;var n=this.getPluginLicenseInfo(t.handle);return!!n&&(!n.licenseKey||-1!==n.licenseIssues.indexOf("mismatched"))}},computed:Object(i["a"])({},Object(b["mapGetters"])({isInCart:"cart/isInCart",isPluginInstalled:"craft/isPluginInstalled",getPluginLicenseInfo:"craft/getPluginLicenseInfo"})),mounted:function(){this.loading=!0,this.statusMessage=this.$options.filters.t("Loading Plugin Store…","app");var t=this.$route.params.plugin,e=this.$route.params.edition;this.$root.allDataLoaded?this.buyPlugin(t,e):this.$root.$on("allDataLoaded",function(){this.buyPlugin(t,e)}.bind(this))}},xe=Se,Ee=(n("34ad"),Object(E["a"])(xe,me,ve,!1,null,null,null)),ke=Ee.exports,Te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v("Translations")]),n("p",[t._v(t._s(t._f("currency")(t.somePrice))+" per year for updates")]),n("p",[t._v(t._s(t._f("t")("{price} per year for updates","app",{price:t.$root.$options.filters.currency(t.somePrice)})))]),t._m(0),n("p",{domProps:{innerHTML:t._s(t.craftTranslation)}}),n("h2",[t._v("Modal")]),n("p",[n("a",{on:{click:function(e){return t.openModal()}}},[t._v("Open Garnish Modal")])]),n("div",{staticClass:"hidden"},[n("div",{ref:"garnishmodalcontent",staticClass:"modal"},[n("div",{staticClass:"body"},[t._v(" Hello World ")])])])])},Oe=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("{{ \"Go to {link}\"|t('app', { link: '"),n("a",{attrs:{href:"#"}},[t._v("test")]),t._v("' }) }}")])}],$e={data:function(){return{somePrice:"99.00",modal:null}},computed:{craftTranslation:function(){return Craft.t("app","Go to {link}",{link:'<a href="#">test</a>'})}},mounted:function(){this.modal=new Garnish.Modal(this.$refs.garnishmodalcontent,{autoShow:!1,resizable:!0})},methods:{openModal:function(){this.modal.show()}}},je=$e,Ne=Object(E["a"])(je,Te,Oe,!1,null,null,null),Le=Ne.exports,Ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("status-message",{attrs:{error:!0,message:t.message}})},ze=[],Be={components:{StatusMessage:De},computed:{message:function(){return this.$options.filters.t("Page not found.","app")}}},Ue=Be,Re=Object(E["a"])(Ue,Ae,ze,!1,null,null,null),Qe=Re.exports,Ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ps-container"},[n("plugin-index",{ref:"pluginIndex",attrs:{action:"pluginStore/searchPlugins",requestData:t.requestData,plugins:t.plugins},scopedSlots:t._u([{key:"header",fn:function(){return[n("h1",[t._v(t._s(t._f("t")("Showing results for “{searchQuery}”","app",{searchQuery:t.searchQuery})))])]},proxy:!0}])})],1)},He=[],Fe={components:{PluginIndex:ut},watch:{searchQuery:function(){var t=this;this.$router.push({path:"/"}),this.$nextTick((function(){t.$router.push({path:"/search"})}))}},computed:Object(i["a"])(Object(i["a"])({},Object(b["mapState"])({plugins:function(t){return t.pluginStore.plugins},searchQuery:function(t){return t.app.searchQuery}})),{},{requestData:function(){return{searchQuery:this.searchQuery}}}),mounted:function(){if(!this.searchQuery)return this.$router.push({path:"/"}),null}},Ye=Fe,qe=Object(E["a"])(Ye,Ge,He,!1,null,null,null),Ke=qe.exports,Ve=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"plugin-details ps-container"},[!t.loading&&t.plugin?[n("div",{staticClass:"plugin-details-header border-b border-solid border-grey-lighter tw-flex mb-6 pb-6 items-center"},[n("div",{staticClass:"plugin-icon"},[t.plugin.iconUrl?n("img",{attrs:{src:t.plugin.iconUrl,width:"100"}}):n("img",{attrs:{src:t.defaultPluginSvg,width:"100"}})]),n("div",{staticClass:"description flex-1"},[n("h1",{staticClass:"text-lg font-bold mb-2"},[t._v(t._s(t.plugin.name))]),n("p",{staticClass:"mb-2 text-grey-dark"},[t._v(t._s(t.plugin.shortDescription))]),n("p",{staticClass:"mb-2"},[n("router-link",{attrs:{to:"/developer/"+t.plugin.developerId,title:t.plugin.developerName}},[t._v(t._s(t.plugin.developerName))])],1)]),t.actionsLoading?n("div",[n("spinner")],1):t._e()]),n("div",{staticClass:"plugin-details-body"},[t.loading?[n("spinner")]:[t.plugin.screenshotUrls&&t.plugin.screenshotUrls.length?[n("plugin-screenshots",{attrs:{images:t.plugin.screenshotUrls}}),n("hr")]:t._e(),n("div",{staticClass:"lg:flex"},[n("div",{staticClass:"lg:flex-1 lg:pr-8 lg:mr-4"},[t.longDescription?n("div",{staticClass:"readable",domProps:{innerHTML:t._s(t.longDescription)}}):t.plugin.shortDescription?n("div",{staticClass:"readable",domProps:{innerHTML:t._s(t.plugin.shortDescription)}}):n("p",[t._v("No description.")])]),n("div",{staticClass:"lg:pl-8 lg:ml-4"},[n("ul",[t.plugin.documentationUrl?n("li",{staticClass:"py-1"},[n("a",{attrs:{href:t.plugin.documentationUrl,rel:"noopener",target:"_blank"}},[n("icon",{attrs:{icon:"book"}}),t._v(" "+t._s(t._f("t")("Documentation","app"))+" ")],1)]):t._e(),n("li",[n("a",{attrs:{href:t.plugin.repository,rel:"noopener",target:"_blank"}},[n("icon",{attrs:{icon:"link"}}),t._v(" Repository")],1)])])])]),n("hr"),n("div",{staticClass:"py-8"},[n("plugin-editions",{attrs:{plugin:t.plugin}}),t.licenseMismatched?n("div",{staticClass:"mx-auto max-w-sm px-8"},[n("div",{staticClass:"tw-flex items-center"},[n("svg",{staticClass:"text-blue fill-current w-8 h-8 mr-4 flex items-center",attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 256 448","xml:space":"preserve"}},[n("path",{attrs:{fill:"currentColor",d:"M184,144c0,4.2-3.8,8-8,8s-8-3.8-8-8c0-17.2-26.8-24-40-24c-4.2,0-8-3.8-8-8s3.8-8,8-8C151.2,104,184,116.2,184,144z\nM224,144c0-50-50.8-80-96-80s-96,30-96,80c0,16,6.5,32.8,17,45c4.8,5.5,10.2,10.8,15.2,16.5C82,226.8,97,251.8,99.5,280h57\nc2.5-28.2,17.5-53.2,35.2-74.5c5-5.8,10.5-11,15.2-16.5C217.5,176.8,224,160,224,144z M256,144c0,25.8-8.5,48-25.8,67\ns-40,45.8-42,72.5c7.2,4.2,11.8,12.2,11.8,20.5c0,6-2.2,11.8-6.2,16c4,4.2,6.2,10,6.2,16c0,8.2-4.2,15.8-11.2,20.2\nc2,3.5,3.2,7.8,3.2,11.8c0,16.2-12.8,24-27.2,24c-6.5,14.5-21,24-36.8,24s-30.2-9.5-36.8-24c-14.5,0-27.2-7.8-27.2-24\nc0-4,1.2-8.2,3.2-11.8c-7-4.5-11.2-12-11.2-20.2c0-6,2.2-11.8,6.2-16c-4-4.2-6.2-10-6.2-16c0-8.2,4.5-16.2,11.8-20.5\nc-2-26.8-24.8-53.5-42-72.5S0,169.8,0,144C0,76,64.8,32,128,32S256,76,256,144z"}})]),n("div",[n("div",{domProps:{innerHTML:t._s(t.licenseMismatchedMessage)}})])])]):t._e()],1),n("hr"),n("div",{staticClass:"max-w-xs mx-auto py-8"},[n("h2",{staticClass:"mt-0"},[t._v(t._s(t._f("t")("Package Name","app")))]),n("p",[t._v(t._s(t._f("t")("Copy the package’s name for this plugin.","app")))]),n("copy-package",{attrs:{plugin:t.plugin}})],1),n("hr"),n("h2",{staticClass:"mb-4"},[t._v(t._s(t._f("t")("Information","app")))]),n("div",{staticClass:"plugin-infos"},[n("ul",{staticClass:"plugin-meta"},[n("li",[n("span",[t._v(t._s(t._f("t")("Version","app")))]),t._v(" "),n("strong",[t._v(t._s(t.plugin.version))])]),n("li",[n("span",[t._v(t._s(t._f("t")("Last update","app")))]),t._v(" "),n("strong",[t._v(t._s(t.lastUpdate))])]),t.plugin.activeInstalls>0?n("li",[n("span",[t._v(t._s(t._f("t")("Active installs","app")))]),t._v(" "),n("strong",[t._v(t._s(t._f("formatNumber")(t.plugin.activeInstalls)))])]):t._e(),n("li",[n("span",[t._v(t._s(t._f("t")("Compatibility","app")))]),t._v(" "),n("strong",[t._v(t._s(t.plugin.compatibility))])]),t.pluginCategories&&t.pluginCategories.length>0?n("li",[n("span",[t._v(t._s(t._f("t")("Categories","app")))]),n("div",t._l(t.pluginCategories,(function(e,i){return n("div",{key:"plugin-category-"+i},[n("strong",[n("router-link",{attrs:{to:"/categories/"+e.id,title:e.title}},[t._v(t._s(e.title))])],1)])})),0)]):t._e(),n("li",[n("span",[t._v(t._s(t._f("t")("License","app")))]),t._v(" "),n("strong",[t._v(t._s(t.licenseLabel))])])])]),n("p",[n("a",{attrs:{href:"mailto:issues@craftcms.com?subject="+encodeURIComponent("Issue with "+t.plugin.name)+"&body="+encodeURIComponent("I would like to report the following issue with "+t.plugin.name+" (https://plugins.craftcms.com/"+t.plugin.handle+"):\n\n")}},[n("icon",{staticClass:"mr-2",attrs:{icon:"exclamation-circle"}}),t._v(t._s(t._f("t")("Report an issue","app")))],1)]),n("hr"),n("plugin-changelog",{attrs:{pluginId:t.plugin.id}})]],2)]:[n("spinner")]],2)},Ze=[],We=(n("7db0"),n("ac1f"),n("5319"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"copy-package"},[n("textbox",{ref:"input",staticClass:"w-full",attrs:{value:t.plugin.packageName,readonly:"readonly"},on:{focus:t.select}}),n("btn",{on:{click:t.copy}},[n("icon",{attrs:{icon:"copy"}})],1)],1)}),Je=[],Xe={props:["plugin"],methods:{select:function(){this.$refs.input.$refs.input.select()},copy:function(){this.select(),window.document.execCommand("copy")}}},tn=Xe,en=(n("9111"),Object(E["a"])(tn,We,Je,!1,null,null,null)),nn=en.exports,an=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"plugin-changelog",class:{collapsed:!t.showMore}},[n("h2",[t._v(t._s(t._f("t")("Changelog","app")))]),t.loading?[n("spinner",{staticClass:"mt-4"})]:[n("div",{staticClass:"releases"},[t._l(t.pluginChangelog,(function(t,e){return[n("changelog-release",{key:e,attrs:{release:t}})]}))],2),n("div",{staticClass:"more"},[!1===t.showMore?n("a",{staticClass:"c-btn",on:{click:function(e){e.preventDefault(),t.showMore=!0}}},[t._v(t._s(t._f("t")("More","app")))]):t._e(),!0===t.showMore?n("a",{staticClass:"c-btn",on:{click:function(e){e.preventDefault(),t.showMore=!1}}},[t._v(t._s(t._f("t")("Less","app")))]):t._e()])]],2)},rn=[],sn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.release?n("div",{staticClass:"changelog-release"},[n("div",{staticClass:"version"},[n("a",{staticClass:"anchor",attrs:{href:"#"+t.release.version}},[n("icon",{attrs:{icon:"link"}})],1),n("h2",{attrs:{id:t.release.version}},[t._v(t._s(t._f("t")("Version {version}","app",{version:t.release.version})))]),n("div",{staticClass:"date"},[t._v(t._s(t.date))]),t.release.critical?n("div",{staticClass:"critical"},[t._v(t._s(t._f("t")("Critical","app")))]):t._e()]),n("div",{staticClass:"details readable",domProps:{innerHTML:t._s(t.release.notes)}})]):t._e()},on=[],cn={props:["release"],computed:{date:function(){return Craft.formatDate(this.release.date)}}},ln=cn,un=(n("1b4f"),Object(E["a"])(ln,sn,on,!1,null,null,null)),dn=un.exports,pn={props:["pluginId"],data:function(){return{showMore:!1,loading:!1}},components:{ChangelogRelease:dn},computed:Object(i["a"])({},Object(b["mapState"])({pluginChangelog:function(t){return t.pluginStore.pluginChangelog}})),mounted:function(){var t=this;this.loading=!0,this.$store.dispatch("pluginStore/getPluginChangelog",this.pluginId).then((function(){t.loading=!1}))},destroyed:function(){this.$store.commit("pluginStore/updatePluginChangelog",null)}},fn=pn,gn=(n("c4cc"),Object(E["a"])(fn,an,rn,!1,null,null,null)),hn=gn.exports,mn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"plugin-editions mb-4"},t._l(t.plugin.editions,(function(e,i){return n("plugin-edition",{key:i,attrs:{plugin:t.plugin,edition:e}})})),1)},vn=[],Cn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"plugin-editions-edition"},[n("div",{staticClass:"description"},[t.plugin.editions.length>1?n("edition-badge",{attrs:{name:t.edition.name,block:"",big:""}}):t._e(),n("div",{staticClass:"price"},[t.isPluginEditionFree(t.edition)?[t._v(" "+t._s(t._f("t")("Free","app"))+" ")]:[t.licensedEdition&&t.licensedEdition.handle!==t.edition.handle&&t.licensedEdition.price>0&&t.licenseValidOrAstray?[n("del",[t._v(t._s(t._f("currency")(t.edition.price)))]),t._v(" "+t._s(t._f("currency")(t.edition.price-t.licensedEdition.price))+" ")]:[t._v(" "+t._s(t._f("currency")(t.edition.price))+" ")]]],2),t.isPluginEditionFree(t.edition)?t._e():n("p",{staticClass:"-mt-8 py-6 text-grey-dark"},[t._v(" "+t._s(t._f("t")("Price includes 1 year of updates.","app"))),n("br"),t._v(" "+t._s(t._f("t")("{renewalPrice}/year per site for updates after that.","app",{renewalPrice:t.$options.filters.currency(t.edition.renewalPrice)}))+" ")]),t.plugin.editions.length>1&&t.edition.features&&t.edition.features.length>0?n("ul",t._l(t.edition.features,(function(e,i){return n("li",{key:i},[n("icon",{attrs:{icon:"check"}}),t._v(" "+t._s(e.name)+" "),e.description?n("info-hud",[t._v(" "+t._s(e.description)+" ")]):t._e()],1)})),0):t._e()],1),n("plugin-actions",{attrs:{plugin:t.plugin,edition:t.edition}})],1)},bn=[],yn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.plugin?n("div",{staticClass:"plugin-actions"},[t.isPluginEditionFree?t._e():[t.isInCart(t.plugin,t.edition)?[t.allowUpdates?n("btn",{attrs:{kind:"primary",icon:"check",block:"",large:"",outline:""},on:{click:function(e){return t.$root.openModal("cart")}}},[t._v(t._s(t._f("t")("Already in your cart","app")))]):t._e()]:[t.allowUpdates&&t.isEditionMoreExpensiveThanLicensed?n("btn",{attrs:{kind:"primary",loading:t.addToCartloading,disabled:t.addToCartloading||!t.plugin.latestCompatibleVersion||t.licenseMismatched,block:"",large:""},on:{click:function(e){return t.addEditionToCart(t.edition.handle)}}},[t._v(t._s(t._f("t")("Add to cart","app")))]):t.licensedEdition===t.edition.handle?n("btn",{attrs:{kind:"primary",block:"",large:"",disabled:""}},[t._v(t._s(t._f("t")("Licensed","app")))]):t._e()]],t.isPluginInstalled&&t.currentEdition===t.edition.handle?[t.currentEdition===t.licensedEdition||t.isPluginEditionFree?[n("btn",{attrs:{icon:"check",disabled:!0,block:"",large:""}},[t._v(" "+t._s(t._f("t")("Installed","app")))])]:[n("btn",{attrs:{icon:"check",disabled:!0,large:"",block:""}},[t._v(" "+t._s(t._f("t")("Installed as a trial","app")))])]]:[t.allowUpdates||t.isPluginInstalled?n("form",{attrs:{method:"post"},on:{submit:t.onSwitchOrInstallSubmit}},[n("input",{attrs:{type:"hidden",name:t.csrfTokenName},domProps:{value:t.csrfTokenValue}}),t.isPluginInstalled?[n("input",{attrs:{type:"hidden",name:"action",value:"plugins/switch-edition"}}),n("input",{attrs:{type:"hidden",name:"pluginHandle"},domProps:{value:t.plugin.handle}}),n("input",{attrs:{type:"hidden",name:"edition"},domProps:{value:t.edition.handle}})]:[n("input",{attrs:{type:"hidden",name:"action",value:"pluginstore/install"}}),n("input",{attrs:{type:"hidden",name:"packageName"},domProps:{value:t.plugin.packageName}}),n("input",{attrs:{type:"hidden",name:"handle"},domProps:{value:t.plugin.handle}}),n("input",{attrs:{type:"hidden",name:"edition"},domProps:{value:t.edition.handle}}),n("input",{attrs:{type:"hidden",name:"version"},domProps:{value:t.plugin.latestCompatibleVersion}})],t.isPluginEditionFree?[n("btn",{attrs:{kind:"primary",type:"submit",loading:t.loading,disabled:!t.plugin.latestCompatibleVersion,block:"",large:""}},[t._v(t._s(t._f("t")("Install","app")))])]:[t.isEditionMoreExpensiveThanLicensed&&t.currentEdition===t.edition.handle||t.licensedEdition===t.edition.handle&&!t.currentEdition?[n("btn",{attrs:{type:"submit",loading:t.loading,disabled:!t.plugin.latestCompatibleVersion,block:"",large:""}},[t._v(t._s(t._f("t")("Install","app")))])]:t.isEditionMoreExpensiveThanLicensed&&t.currentEdition!==t.edition.handle?[n("btn",{attrs:{type:"submit",disabled:!(t.pluginLicenseInfo&&t.pluginLicenseInfo.isInstalled&&t.pluginLicenseInfo.isEnabled||!t.pluginLicenseInfo)||!t.plugin.latestCompatibleVersion,loading:t.loading,block:"",large:""}},[t._v(t._s(t._f("t")("Try","app")))])]:t.currentEdition&&t.licensedEdition===t.edition.handle&&t.currentEdition!==t.edition.handle?[n("btn",{attrs:{type:"submit",loading:t.loading,block:"",large:""}},[t._v(t._s(t._f("t")("Reactivate","app")))])]:t._e()]],2):t._e()],t.plugin.latestCompatibleVersion&&t.plugin.latestCompatibleVersion!=t.plugin.version?[n("div",{staticClass:"text-grey mt-4 px-8"},[n("p",[t._v(t._s(t._f("t")("Only up to {version} is compatible with your version of Craft.","app",{version:t.plugin.latestCompatibleVersion})))])])]:t.plugin.latestCompatibleVersion?t._e():[n("div",{staticClass:"text-grey mt-4 px-8"},[n("p",[t._v(t._s(t._f("t")("This plugin isn’t compatible with your version of Craft.","app")))])])]],2):t._e()},_n=[],In={computed:{licenseMismatched:function(){return this.pluginLicenseInfo&&"mismatched"===this.pluginLicenseInfo.licenseKeyStatus},licenseValidOrAstray:function(){return"valid"===this.pluginLicenseInfo.licenseKeyStatus||"astray"===this.pluginLicenseInfo.licenseKeyStatus}}},wn={mixins:[In],props:["plugin","edition"],data:function(){return{loading:!1,addToCartloading:!1}},computed:Object(i["a"])(Object(i["a"])({},Object(b["mapGetters"])({getPluginLicenseInfo:"craft/getPluginLicenseInfo",isInCart:"cart/isInCart"})),{},{pluginLicenseInfo:function(){return this.getPluginLicenseInfo(this.plugin.handle)},isPluginEditionFree:function(){return this.$store.getters["pluginStore/isPluginEditionFree"](this.edition)},isPluginInstalled:function(){return this.$store.getters["craft/isPluginInstalled"](this.plugin.handle)},isEditionMoreExpensiveThanLicensed:function(){if(!this.edition)return!1;if(this.pluginLicenseInfo){var t=this.licensedEdition,e=this.plugin.editions.find((function(e){return e.handle===t}));if(e&&this.edition.price&&parseFloat(this.edition.price)<=parseFloat(e.price))return!1}return!0},licensedEdition:function(){return this.pluginLicenseInfo?this.pluginLicenseInfo.licensedEdition:null},currentEdition:function(){return this.pluginLicenseInfo?this.pluginLicenseInfo.edition:null},allowUpdates:function(){return window.allowUpdates},csrfTokenName:function(){return Craft.csrfTokenName},csrfTokenValue:function(){return Craft.csrfTokenValue}}),methods:{addEditionToCart:function(t){var e=this;this.addToCartloading=!0;var n={type:"plugin-edition",plugin:this.plugin.handle,edition:t};this.$store.dispatch("cart/addToCart",[n]).then((function(){e.addToCartloading=!1,e.$root.openModal("cart")})).catch((function(){e.addToCartloading=!1}))},onSwitchOrInstallSubmit:function(t){var e=this;if(this.loading=!0,this.isPluginInstalled)return t.preventDefault(),this.$store.dispatch("craft/switchPluginEdition",{pluginHandle:this.plugin.handle,edition:this.edition.handle}).then((function(){e.loading=!1,e.$root.displayNotice("Plugin edition changed.")})),!1}}},Pn=wn,Mn=(n("4ec3"),Object(E["a"])(Pn,yn,_n,!1,null,null,null)),Dn=Mn.exports,Sn={mixins:[In],props:["plugin","edition"],components:{PluginActions:Dn,InfoHud:St,EditionBadge:T},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(b["mapState"])({cart:function(t){return t.cart.cart}})),Object(b["mapGetters"])({isPluginEditionFree:"pluginStore/isPluginEditionFree",getPluginEdition:"pluginStore/getPluginEdition",getPluginLicenseInfo:"craft/getPluginLicenseInfo"})),{},{pluginLicenseInfo:function(){return this.plugin?this.getPluginLicenseInfo(this.plugin.handle):null},licensedEdition:function(){return this.pluginLicenseInfo?this.getPluginEdition(this.plugin,this.pluginLicenseInfo.licensedEdition):null}})},xn=Sn,En=(n("9c73"),Object(E["a"])(xn,Cn,bn,!1,null,null,null)),kn=En.exports,Tn={props:["plugin"],components:{PluginEdition:kn}},On=Tn,$n=(n("88da"),Object(E["a"])(On,mn,vn,!1,null,null,null)),jn=$n.exports,Nn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"screenshots"},t._l(t.images,(function(e,i){return n("a",{key:i,staticClass:"screenshot",on:{click:function(e){return t.zoomImage(i)}}},[n("img",{attrs:{src:e}})])})),0)},Ln=[],An={props:["images"],methods:{zoomImage:function(t){this.$store.commit("app/updateScreenshotModalImages",this.images),this.$store.commit("app/updateShowingScreenshotModal",!0),this.$store.commit("app/updateScreenshotModalImageKey",t)}}},zn=An,Bn=(n("6337"),Object(E["a"])(zn,Nn,Ln,!1,null,null,null)),Un=Bn.exports,Rn={mixins:[In],components:{CopyPackage:nn,PluginChangelog:hn,PluginEditions:jn,PluginScreenshots:Un},data:function(){return{actionsLoading:!1,loading:!1}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(b["mapState"])({categories:function(t){return t.pluginStore.categories},defaultPluginSvg:function(t){return t.craft.defaultPluginSvg},plugin:function(t){return t.pluginStore.plugin},showingScreenshotModal:function(t){return t.app.showingScreenshotModal}})),Object(b["mapGetters"])({getPluginEdition:"pluginStore/getPluginEdition",getPluginLicenseInfo:"craft/getPluginLicenseInfo"})),{},{longDescription:function(){return this.plugin.longDescription&&this.plugin.longDescription.length>0?this.plugin.longDescription:null},pluginCategories:function(){var t=this;return this.categories.filter((function(e){return t.plugin.categoryIds.find((function(t){return t==e.id}))}))},licenseLabel:function(){switch(this.plugin.license){case"craft":return"Craft";case"mit":return"MIT"}return null},lastUpdate:function(){var t=new Date(this.plugin.lastUpdate.replace(/\s/,"T"));return Craft.formatDate(t)},pluginLicenseInfo:function(){return this.plugin?this.getPluginLicenseInfo(this.plugin.handle):null},licenseMismatchedMessage:function(){return this.$options.filters.t("This license is tied to another Craft install. Visit {accountLink} to detach it, or buy a new license.","app",{accountLink:'<a href="https://id.craftcms.com" rel="noopener" target="_blank">id.craftcms.com</a>'})}}),methods:Object(i["a"])({},Object(b["mapActions"])({addToCart:"cart/addToCart"})),mounted:function(){var t=this,e=this.$route.params.handle;this.loading=!0,this.$store.dispatch("pluginStore/getPluginDetailsByHandle",e).then((function(){t.loading=!1})).catch((function(){t.loading=!1}))},beforeDestroy:function(){this.$store.dispatch("pluginStore/cancelRequests")},beforeRouteLeave:function(t,e,n){this.showingScreenshotModal?this.$store.commit("app/updateShowingScreenshotModal",!1):n()}},Qn=Rn,Gn=(n("7fbf"),Object(E["a"])(Qn,Ve,Ze,!1,null,null,null)),Hn=Gn.exports;r.a.use(m.a);var Fn=new m.a({base:window.pluginStoreAppBaseUrl,mode:"history",scrollBehavior:function(){return{x:0,y:0}},routes:[{path:"/",name:"Index",component:H},{path:"/categories/:id",name:"CategoriesId",component:gt},{path:"/upgrade-craft",name:"UpgradeCraft",component:ie},{path:"/developer/:id",name:"DeveloperId",component:le},{path:"/featured/:handle",name:"FeaturedHandle",component:he},{path:"/buy/:plugin",name:"BuyPlugin",component:ke},{path:"/buy/:plugin/:edition",name:"BuyPlugin",component:ke},{path:"/search",name:"Search",component:Ke},{path:"/tests",name:"Tests",component:Le},{path:"/:handle",name:"PluginsHandle",component:Hn},{path:"*",name:"NotFound",component:Qe}]}),Yn={searchQuery:"",showingScreenshotModal:!1,screenshotModalImages:null,screenshotModalImageKey:0},qn={},Kn={},Vn={updateSearchQuery:function(t,e){t.searchQuery=e},updateShowingScreenshotModal:function(t,e){t.showingScreenshotModal=e},updateScreenshotModalImages:function(t,e){t.screenshotModalImages=e},updateScreenshotModalImageKey:function(t,e){t.screenshotModalImageKey=e}},Zn={namespaced:!0,state:Yn,getters:qn,actions:Kn,mutations:Vn},Wn=(n("4160"),n("a434"),n("159b"),{checkout:function(t){return new Promise((function(e,n){Craft.sendApiRequest("POST","payments",{data:t}).then((function(t){e(t)})).catch((function(t){n(t)}))}))},createCart:function(t){return new Promise((function(e,n){Craft.sendApiRequest("POST","carts",{data:t}).then((function(t){e(t)})).catch((function(t){n(t)}))}))},getCart:function(t){return new Promise((function(e,n){Craft.sendApiRequest("GET","carts/"+t).then((function(t){e(t)})).catch((function(t){n(t)}))}))},getOrderNumber:function(t){var e=localStorage.getItem("orderNumber");return t(e)},resetOrderNumber:function(){localStorage.removeItem("orderNumber")},saveOrderNumber:function(t){localStorage.setItem("orderNumber",t)},savePluginLicenseKeys:function(t){return o.a.post(Craft.getActionUrl("plugin-store/save-plugin-license-keys"),t,{headers:{"X-CSRF-Token":Craft.csrfTokenValue}})},updateCart:function(t,e){return new Promise((function(n,i){Craft.sendApiRequest("POST","carts/"+t,{data:e}).then((function(t){n(t)})).catch((function(t){i(t)}))}))}});r.a.use(y.a);var Jn={activeTrialPlugins:[],cart:null,cartPlugins:[],checkoutStatus:null,identityMode:"craftid",selectedExpiryDates:{},stripePublicKey:null},Xn={cartItems:function(t){var e=[];if(t.cart){var n=t.cart.lineItems;n.forEach((function(n){var i={};i.lineItem=n,"plugin-edition"===n.purchasable.type&&(i.plugin=t.cartPlugins.find((function(t){return t.handle===n.purchasable.plugin.handle}))),e.push(i)}))}return e},cartItemsData:function(t){return ni.getCartItemsData(t.cart)},isCmsEditionInCart:function(t){return function(e){return!!t.cart&&t.cart.lineItems.find((function(t){return"cms-edition"===t.purchasable.type&&t.purchasable.handle===e}))}},isInCart:function(t){return function(e,n){return!!t.cart&&t.cart.lineItems.find((function(t){return t.purchasable.pluginId===e.id&&(!n||t.purchasable.handle===n.handle)}))}},getActiveTrialPluginEdition:function(t,e,n,i){return function(t){var e=t.handle,n=i["craft/getPluginLicenseInfo"](e),a=t.editions.find((function(t){return t.handle===n.edition}));return a||null}}},ti={addToCart:function(t,e){var n=t.state,a=t.dispatch,r=t.rootGetters;return new Promise((function(t,s){var o=JSON.parse(JSON.stringify(n.cart)),c=ni.getCartItemsData(o);e.forEach((function(t){var e=c.find((function(e){return e.plugin===t.plugin}));if(!e){var n=Object(i["a"])({},t);switch(n.expiryDate="1y",n.autoRenew=!1,n.type){case"plugin-edition":var a=r["craft/getPluginLicenseInfo"](n.plugin);if(a&&a.licenseKey&&"valid"===a.licenseKeyStatus){var s=!1;a.licenseIssues.length>0&&a.licenseIssues.forEach((function(t){"wrong_edition"!==t&&"astray"!==t&&(s=!0)})),s||(n.licenseKey=a.licenseKey)}n.cmsLicenseKey=window.cmsLicenseKey;break;case"cms-edition":n.licenseKey=window.cmsLicenseKey;break}c.push(n)}}));var l={items:c},u=o.number;a("updateCart",{cartNumber:u,data:l}).then((function(e){if("undefined"!==typeof e.errors)return s(e);t(e)})).catch((function(t){return s(t)}))}))},checkout:function(t,e){return new Promise((function(t,n){Wn.checkout(e).then((function(e){t(e)})).catch((function(t){n(t)}))}))},createCart:function(t){var e=t.dispatch,n=t.rootState;return new Promise((function(t,i){var a={};n.craft.craftId||(a.email=n.craft.currentUser.email),Wn.createCart(a).then((function(n){e("updateCartPlugins",{cartResponseData:n}).then((function(){e("saveOrderNumber",{orderNumber:n.cart.number}),t(n)})).catch((function(t){i(t)}))})).catch((function(t){i(t)}))}))},getActiveTrialPlugins:function(t){var e=t.commit,n=t.rootState,i=t.rootGetters;return new Promise((function(t,a){var r=[],s=n.craft.pluginLicenseInfo;for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&r.push(o);ye.getPluginsByHandles(r).then((function(n){if(n&&n.error)throw n.error;for(var a=n,r=[],o=function(t){var e=a[t];if(!e)return"continue";var n=s[e.handle];if(!n)return"continue";if(n.licenseKey&&n.edition===n.licensedEdition)return"continue";if(n.edition){var o=e.editions.find((function(t){return t.handle===n.edition}));if(o&&i["pluginStore/isPluginEditionFree"](o))return"continue"}if(!i["craft/isPluginInstalled"](e.handle))return"continue";r.push(e)},c=0;c<a.length;c++)o(c);e("updateActiveTrialPlugins",r),t(n)})).catch((function(t){a(t)}))}))},getCart:function(t){var e=t.dispatch;return new Promise((function(t,n){e("getOrderNumber").then((function(i){i?Wn.getCart(i).then((function(i){e("updateCartPlugins",{cartResponseData:i}).then((function(){t(i)})).catch((function(t){n(t)}))})).catch((function(){e("createCart").then((function(e){t(e)})).catch((function(t){n(t)}))})):e("createCart").then((function(e){t(e)})).catch((function(t){n(t)}))}))}))},getOrderNumber:function(t){var e=t.state;return new Promise((function(t,n){if(e.cart&&e.cart.number){var i=e.cart.number;t(i)}else Wn.getOrderNumber((function(e){t(e)}),(function(t){n(t)}))}))},removeFromCart:function(t,e){var n=t.dispatch,i=t.state;return new Promise((function(t,a){var r=i.cart,s=ni.getCartItemsData(r);s.splice(e,1);var o={items:s},c=r.number;n("updateCart",{cartNumber:c,data:o}).then((function(e){t(e)})).catch((function(t){a(t)}))}))},resetCart:function(t){var e=t.commit,n=t.dispatch;return new Promise((function(t,i){e("resetCart"),n("resetOrderNumber"),n("getCart").then((function(e){t(e)})).catch((function(t){i(t)}))}))},resetOrderNumber:function(){Wn.resetOrderNumber()},saveCart:function(t,e){var n=t.dispatch,i=t.state;return new Promise((function(t,a){var r=i.cart,s=r.number;n("updateCart",{cartNumber:s,data:e}).then((function(e){t(e)})).catch((function(t){a(t)}))}))},saveOrderNumber:function(t,e){var n=e.orderNumber;Wn.saveOrderNumber(n)},savePluginLicenseKeys:function(t,e){var n=t.rootGetters;return new Promise((function(t,i){var a=[];e.lineItems.forEach((function(t){if("plugin-edition"===t.purchasable.type&&n["craft/isPluginInstalled"](t.purchasable.plugin.handle)){var e=t.options.licenseKey;"new:"===e.substr(0,4)&&(e=e.substr(4)),a.push({handle:t.purchasable.plugin.handle,key:e})}}));var r={pluginLicenseKeys:a};Wn.savePluginLicenseKeys(r).then((function(e){t(e)})).catch((function(t){i(t.response)}))}))},updateCart:function(t,e){var n=t.dispatch,i=e.cartNumber,a=e.data;return new Promise((function(t,e){Wn.updateCart(i,a).then((function(i){if(i&&i.errors)return e({response:i}),null;n("updateCartPlugins",{cartResponseData:i}).then((function(){t(i)})).catch((function(t){e(t)}))})).catch((function(t){e(t)}))}))},updateCartPlugins:function(t,e){var n=t.commit,i=e.cartResponseData;return new Promise((function(t,e){var a=i.cart,r=[];if(a.lineItems.forEach((function(t){"plugin-edition"===t.purchasable.type&&r.push(t.purchasable.plugin.id)})),r.length>0)ye.getPluginsByIds(r).then((function(e){n("updateCart",{cartResponseData:i}),n("updateCartPlugins",{pluginsResponseData:e}),t(e)})).catch((function(t){e(t)}));else{var s=[];n("updateCart",{cartResponseData:i}),n("updateCartPlugins",{pluginsResponseData:s}),t(s)}}))},updateItem:function(t,e){var n=t.dispatch,i=t.state,a=e.itemKey,r=e.item;return new Promise((function(t,e){var s=i.cart,o=s.number,c=ni.getCartItemsData(s);c[a]=r;var l={items:c};n("updateCart",{cartNumber:o,data:l}).then((function(e){t(e)})).catch((function(t){e(t)}))}))}},ei={changeIdentityMode:function(t,e){t.identityMode=e},resetCart:function(t){t.cart=null},updateActiveTrialPlugins:function(t,e){t.activeTrialPlugins=e},updateCart:function(t,e){var n=e.cartResponseData;t.cart=n.cart,t.stripePublicKey=n.stripePublicKey;var i={};t.cart.lineItems.forEach((function(t,e){i[e]=t.options.expiryDate})),t.selectedExpiryDates=i},updateCartPlugins:function(t,e){var n=e.pluginsResponseData;t.cartPlugins=n},updateSelectedExpiryDates:function(t,e){t.selectedExpiryDates=e}},ni={getCartData:function(t){var e={email:t.email,billingAddress:{firstName:t.billingAddress.firstName,lastName:t.billingAddress.lastName},items:[]};return e.items=this.getCartItemsData(t),e},getCartItemsData:function(t){if(!t)return[];for(var e=[],n=0;n<t.lineItems.length;n++){var i=t.lineItems[n];switch(i.purchasable.type){case"plugin-edition":var a={type:i.purchasable.type,plugin:i.purchasable.plugin.handle,edition:i.purchasable.handle,cmsLicenseKey:window.cmsLicenseKey,expiryDate:i.options.expiryDate,autoRenew:i.options.autoRenew},r=i.options.licenseKey;r&&"new"!==r.substr(0,3)&&(a.licenseKey=r),e.push(a);break;case"cms-edition":var s={type:i.purchasable.type,edition:i.purchasable.handle,expiryDate:i.options.expiryDate,autoRenew:i.options.autoRenew},o=i.options.licenseKey;o&&"new"!==o.substr(0,3)&&(s.licenseKey=o),e.push(s);break}}return e}},ii={namespaced:!0,state:Jn,getters:Xn,actions:ti,mutations:ei},ai=(n("99af"),n("2909")),ri={categories:[],cmsEditions:null,developer:null,expiryDateOptions:[],featuredPlugins:[],featuredSection:null,featuredSections:[],plugin:null,pluginChangelog:null,plugins:[]},si={getCategoryById:function(t){return function(e){return t.categories.find((function(t){return t.id==e}))}},getPluginEdition:function(){return function(t,e){return t.editions.find((function(t){return t.handle===e}))}},getPluginIndexParams:function(){return function(t){var e=t.perPage?t.perPage:null,n=t.page?t.page:1,i=t.orderBy,a=t.direction;return{perPage:e,page:n,orderBy:i,direction:a}}},isPluginEditionFree:function(){return function(t){return null===t.price}}},oi={cancelRequests:function(){return ye.cancelRequests()},getCoreData:function(t){var e=t.commit;return new Promise((function(t,n){ye.getCoreData().then((function(n){e("updateCoreData",{responseData:n}),t(n)})).catch((function(t){n(t)}))}))},getCmsEditions:function(t){var e=t.commit;return new Promise((function(t,n){ye.getCmsEditions().then((function(n){e("updateCmsEditions",{responseData:n}),t(n)})).catch((function(t){n(t)}))}))},getDeveloper:function(t,e){var n=t.commit;return ye.getDeveloper(e).then((function(t){n("updateDeveloper",t)}))},getFeaturedSectionByHandle:function(t,e){var n=t.commit;return ye.getFeaturedSectionByHandle(e).then((function(t){n("updateFeaturedSection",t)}))},getFeaturedSections:function(t){var e=t.commit;return ye.getFeaturedSections().then((function(t){e("updateFeaturedSections",t)}))},getPluginChangelog:function(t,e){var n=t.commit;return new Promise((function(t,i){ye.getPluginChangelog(e).then((function(e){n("updatePluginChangelog",e),t(e)})).catch((function(t){i(t)}))}))},getPluginDetails:function(t,e){var n=t.commit;return new Promise((function(t,i){ye.getPluginDetails(e).then((function(e){n("updatePluginDetails",e),t(e)})).catch((function(t){i(t)}))}))},getPluginDetailsByHandle:function(t,e){var n=t.commit;return ye.getPluginDetailsByHandle(e).then((function(t){n("updatePluginDetails",t)}))},getPluginsByCategory:function(t,e){var n=t.getters,i=t.dispatch;return new Promise((function(t,a){var r=n["getPluginIndexParams"](e);ye.getPluginsByCategory(e.categoryId,r).then((function(n){i("updatePluginIndex",{context:e,responseData:n}),t(n)})).catch((function(t){a(t)}))}))},getPluginsByDeveloperId:function(t,e){var n=t.getters,i=t.dispatch;return new Promise((function(t,a){var r=n["getPluginIndexParams"](e);ye.getPluginsByDeveloperId(e.developerId,r).then((function(n){i("updatePluginIndex",{context:e,responseData:n}),t(n)})).catch((function(t){a(t)}))}))},getPluginsByFeaturedSectionHandle:function(t,e){var n=t.getters,i=t.dispatch;return new Promise((function(t,a){var r=n["getPluginIndexParams"](e);return ye.getPluginsByFeaturedSectionHandle(e.featuredSectionHandle,r).then((function(n){i("updatePluginIndex",{context:e,responseData:n}),t(n)})).catch((function(t){a(t)}))}))},searchPlugins:function(t,e){var n=t.getters,i=t.dispatch;return new Promise((function(t,a){var r=n["getPluginIndexParams"](e);ye.searchPlugins(e.searchQuery,r).then((function(n){i("updatePluginIndex",{context:e,responseData:n}),t(n)})).catch((function(t){a(t)}))}))},updatePluginIndex:function(t,e){var n=t.commit,i=e.context,a=e.responseData;i.appendData&&!0===i.appendData?n("appendPlugins",a.plugins):n("updatePlugins",a.plugins)}},ci={appendPlugins:function(t,e){t.plugins=[].concat(Object(ai["a"])(t.plugins),Object(ai["a"])(e))},updateCoreData:function(t,e){var n=e.responseData;t.categories=n.categories,t.expiryDateOptions=n.expiryDateOptions,t.sortOptions=n.sortOptions},updateCmsEditions:function(t,e){var n=e.responseData;t.cmsEditions=n.editions},updateDeveloper:function(t,e){t.developer=e},updateFeaturedSection:function(t,e){t.featuredSection=e},updateFeaturedSections:function(t,e){t.featuredSections=e},updatePluginChangelog:function(t,e){t.pluginChangelog=e},updatePluginDetails:function(t,e){t.plugin=e},updatePlugins:function(t,e){t.plugins=e}},li={namespaced:!0,state:ri,getters:si,actions:oi,mutations:ci},ui=o.a.CancelToken,di=ui.source(),pi=o.a.create({cancelToken:di.token}),fi={cancelRequests:function(){di.cancel(),di=ui.source(),pi.defaults.cancelToken=di.token},getCraftData:function(){return new Promise((function(t,e){pi.get(Craft.getActionUrl("plugin-store/craft-data")).then((function(e){t(e)})).catch((function(t){o.a.isCancel(t)||e(t)}))}))},getCraftIdData:function(t){var e=t.accessToken;return new Promise((function(t,n){Craft.sendApiRequest("GET","account",{cancelToken:di.token,headers:{Authorization:"Bearer "+e}}).then((function(e){t(e)})).catch((function(t){o.a.isCancel(t)||n(t)}))}))},getCountries:function(){return new Promise((function(t,e){Craft.sendApiRequest("GET","countries",{cancelToken:di.token}).then((function(e){t(e)})).catch((function(t){o.a.isCancel(t)||e(t)}))}))},getPluginLicenseInfo:function(){return new Promise((function(t,e){Craft.sendApiRequest("GET","cms-licenses",{params:{include:"plugins"}}).then((function(n){pi.post(Craft.getActionUrl("app/get-plugin-license-info"),{pluginLicenses:n.license.pluginLicenses||[]},{headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then((function(e){t(e)})).catch((function(t){o.a.isCancel(t)||e(t)}))}))}))},switchPluginEdition:function(t,e){return new Promise((function(n,i){var a="pluginHandle="+t+"&edition="+e;pi.post(Craft.getActionUrl("plugins/switch-edition"),a,{headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then((function(t){Craft.clearCachedApiHeaders(),n(t)})).catch((function(t){o.a.isCancel(t)||i(t)}))}))},tryEdition:function(t){return new Promise((function(e,n){pi.post(Craft.getActionUrl("app/try-edition"),"edition="+t,{headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then((function(t){Craft.clearCachedApiHeaders(),e(t)})).catch((function(t){o.a.isCancel(t)||n(t)}))}))}},gi={canTestEditions:null,countries:null,craftId:null,craftLogo:null,currentUser:null,defaultPluginSvg:null,licensedEdition:null,pluginLicenseInfo:{},poweredByStripe:null,CraftEdition:null,CraftPro:null,CraftSolo:null},hi={getCmsEditionFeatures:function(){return function(t){var e={solo:[{name:"Ultra-flexible content modeling",description:"Define custom content types, fields, and relations needed to perfectly contain your unique content requirements."},{name:"Powerful front-end tools",description:"Develop custom front-end templates with Twig, or use Craft as a headless CMS."},{name:"Multi-Site",description:"Run multiple related sites from a single installation, with shared content and user accounts."},{name:"Localization",description:"Cater to distinct audiences from around the world with Craft’s best-in-class localization capabilities."},{name:"Single admin account",description:"The Solo edition is limited to a single admin account."}],pro:[{name:"Unlimited user accounts",description:"Create unlimited user accounts, user groups, user permissions, and public user registration."},{name:"Enhanced content previewing",description:"Preview your content from multiple targets, including single-page applications."},{name:"GraphQL API",description:"Make your content available to other applications with a self-generating GraphQL API."},{name:"System branding",description:"Personalize the control panel for your brand."},{name:"Basic developer support",description:"Get developer-to-developer support right from the Craft core development team."}]};return e[t]?e[t]:null}},getPluginLicenseInfo:function(t){return function(e){return t.pluginLicenseInfo&&t.pluginLicenseInfo[e]?t.pluginLicenseInfo[e]:null}},isPluginInstalled:function(t){return function(e){return!!t.pluginLicenseInfo&&(!!t.pluginLicenseInfo[e]&&!!t.pluginLicenseInfo[e].isInstalled)}}},mi={cancelRequests:function(){return fi.cancelRequests()},getCraftData:function(t){var e=t.commit;return new Promise((function(t,n){fi.getCraftData().then((function(i){e("updateCraftData",{response:i}),fi.getCountries().then((function(n){e("updateCountries",{responseData:n}),t()})).catch((function(t){n(t)}))})).catch((function(t){n(t)}))}))},getCraftIdData:function(t,e){var n=t.commit,i=e.accessToken;return new Promise((function(t,e){fi.getCraftIdData({accessToken:i}).then((function(e){n("updateCraftIdData",{responseData:e}),t()})).catch((function(t){e(t)}))}))},getPluginLicenseInfo:function(t){var e=t.commit;return new Promise((function(t,n){fi.getPluginLicenseInfo().then((function(n){e("updatePluginLicenseInfo",{response:n}),t(n)})).catch((function(t){n(t)}))}))},switchPluginEdition:function(t,e){var n=t.dispatch,i=e.pluginHandle,a=e.edition;return new Promise((function(t,e){fi.switchPluginEdition(i,a).then((function(i){n("getPluginLicenseInfo").then((function(e){t({switchPluginEditionResponse:i,getPluginLicenseInfoResponse:e})})).catch((function(t){return e(t)}))})).catch((function(t){return e(t)}))}))},tryEdition:function(t,e){return new Promise((function(t,n){fi.tryEdition(e).then((function(e){t(e)})).catch((function(t){n(t)}))}))}},vi={updateCraftData:function(t,e){var n=e.response;t.canTestEditions=n.data.canTestEditions,t.craftLogo=n.data.craftLogo,t.currentUser=n.data.currentUser,t.defaultPluginSvg=n.data.defaultPluginSvg,t.licensedEdition=n.data.licensedEdition,t.poweredByStripe=n.data.poweredByStripe,t.CraftEdition=n.data.CraftEdition,t.CraftPro=n.data.CraftPro,t.CraftSolo=n.data.CraftSolo},updateCraftIdData:function(t,e){var n=e.responseData;t.craftId=n},updateCountries:function(t,e){var n=e.responseData;t.countries=n.countries},updateCraftId:function(t,e){t.craftId=e},updatePluginLicenseInfo:function(t,e){var n=e.response;t.pluginLicenseInfo=n.data}},Ci={namespaced:!0,state:gi,getters:hi,actions:mi,mutations:vi};r.a.use(y.a);var bi=new y.a.Store({strict:!0,modules:{app:Zn,cart:ii,pluginStore:li,craft:Ci}}),yi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hidden"},[n("div",{ref:"pluginstoremodal",staticClass:"pluginstore-modal modal",class:"step-"+t.modalStep,attrs:{id:"pluginstore-modal"}},["cart"===t.modalStep?n("cart",{on:{"continue-shopping":function(e){return t.$root.closeModal()}}}):"identity"===t.modalStep?n("identity",{on:{back:function(e){return t.back()}}}):"payment"===t.modalStep?n("payment",{on:{back:function(e){return t.back()}}}):"thank-you"===t.modalStep?n("thank-you"):t._e()],1)])},_i=[],Ii=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("step",[n("template",{slot:"header"},[n("h1",[t._v(t._s(t._f("t")("Cart","app")))])]),n("template",{slot:"main"},[t.activeTrialsLoading?[n("spinner")]:[n("h2",[t._v(t._s(t._f("t")("Items in your cart","app")))]),t.cart?[t.cartItems.length?[n("table",{staticClass:"cart-data fullwidth"},[n("thead",[n("tr",[n("th"),n("th",[t._v(t._s(t._f("t")("Item","app")))]),n("th",[t._v(t._s(t._f("t")("Updates","app")))]),n("th",{staticClass:"w-10"})])]),t._l(t.cartItems,(function(e,i){return n("tbody",{key:"item"+i},[n("tr",{staticClass:"item-details"},["cms-edition"===e.lineItem.purchasable.type?[n("td",{staticClass:"thin"},[n("div",{staticClass:"plugin-icon"},[n("img",{attrs:{src:t.craftLogo,width:"40",height:"40"}})])]),n("td",{staticClass:"item-name"},[n("strong",[t._v("Craft CMS")]),n("edition-badge",{attrs:{name:e.lineItem.purchasable.name}})],1)]:"plugin-edition"===e.lineItem.purchasable.type?[n("td",{staticClass:"thin"},[n("div",{staticClass:"plugin-icon"},[e.plugin.iconUrl?n("img",{attrs:{src:e.plugin.iconUrl,width:"40",height:"40"}}):t._e()])]),n("td",[n("div",{staticClass:"item-name"},[n("strong",[t._v(t._s(e.plugin.name))]),n("edition-badge",{attrs:{name:e.lineItem.purchasable.name}})],1)])]:t._e(),n("td",{staticClass:"expiry-date"},["cms-edition"===e.lineItem.purchasable.type||"plugin-edition"===e.lineItem.purchasable.type&&"new:"===e.lineItem.options.licenseKey.substr(0,4)?[n("dropdown",{attrs:{options:t.itemExpiryDateOptions(i)},on:{input:function(e){return t.onSelectedExpiryDateChange(i)}},model:{value:t.selectedExpiryDates[i],callback:function(e){t.$set(t.selectedExpiryDates,i,e)},expression:"selectedExpiryDates[itemKey]"}})]:t._e(),t.itemLoading(i)?n("spinner"):t._e()],2),n("td",{staticClass:"price"},[n("strong",[t._v(t._s(t._f("currency")(e.lineItem.price)))])])],2),t._l(e.lineItem.adjustments,(function(e,a){return[n("tr",{key:i+"adjustment-"+a,staticClass:"sub-item"},[n("td",{staticClass:"blank-cell"}),n("td",{staticClass:"blank-cell"}),n("td",["extendedUpdates"===e.sourceSnapshot.type?[t._v(" "+t._s(t._f("t")("Updates until {date}","app",{date:t.$options.filters.formatDate(e.sourceSnapshot.expiryDate)}))+" ")]:[t._v(" "+t._s(e.name)+" ")]],2),n("td",{staticClass:"price"},[t._v(" "+t._s(t._f("currency")(e.amount))+" ")])])]})),n("tr",{staticClass:"sub-item"},[n("td",{staticClass:"blank-cell"}),n("td",{staticClass:"blank-cell"}),n("td",{staticClass:"empty-cell"}),n("td",{staticClass:"price"},[n("div",{staticClass:"w-16"},[t.removeFromCartLoading(i)?[n("spinner",{staticClass:"sm"})]:[n("a",{attrs:{role:"button"},on:{click:function(e){return t.removeFromCart(i)}}},[t._v(t._s(t._f("t")("Remove","app")))])]],2)])])],2)})),n("tbody",[n("tr",[n("th",{staticClass:"total-price",attrs:{colspan:"3"}},[n("strong",[t._v(t._s(t._f("t")("Total Price","app")))])]),n("td",{staticClass:"total-price"},[n("strong",[t._v(t._s(t._f("currency")(t.cart.totalPrice)))])])])])],2),n("div",{staticClass:"py-4 flex"},[n("btn",{attrs:{kind:"primary",loading:t.loadingCheckout},on:{click:function(e){return t.payment()}}},[t._v(t._s(t._f("t")("Checkout","app")))])],1)]:n("div",[n("p",[t._v(t._s(t._f("t")("Your cart is empty.","app"))+" "),n("a",{on:{click:function(e){return t.$emit("continue-shopping")}}},[t._v(t._s(t._f("t")("Continue shopping","app")))])])])]:t._e(),t.pendingActiveTrials&&t.pendingActiveTrials.length>0?[n("hr"),t.pendingActiveTrials.length>1?n("div",{staticClass:"right"},[n("a",{on:{click:function(e){return t.addAllToCart()}}},[t._v(t._s(t._f("t")("Add all to cart","app")))])]):t._e(),n("h2",[t._v(t._s(t._f("t")("Active Trials","app")))]),n("table",{staticClass:"cart-data"},[n("thead",[n("tr",[n("th",{staticClass:"thin"}),n("th",[t._v(t._s(t._f("t")("Plugin Name","app")))])])]),t._l(t.pendingActiveTrials,(function(t,e){return n("tbody",{key:e},[n("active-trials-table-row",{attrs:{plugin:t}})],1)}))],2)]:t._e()]],2)],2)},wi=[],Pi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pluginstore-modal-flex"},[t.$slots["body"]?[t._t("body")]:[t.$slots["header"]?n("header",{staticClass:"header"},[t._t("header")],2):t._e(),n("div",{staticClass:"pluginstore-modal-main"},[n("div",{staticClass:"pluginstore-modal-content"},[t._t("main")],2)])]],2)},Mi=[],Di={},Si=Object(E["a"])(Di,Pi,Mi,!1,null,null,null),xi=Si.exports,Ei=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.plugin?n("tr",[n("td",{staticClass:"thin"},[n("div",{staticClass:"plugin-icon"},[t.plugin.iconUrl?n("img",{attrs:{src:t.plugin.iconUrl,height:"40",width:"40"}}):n("div",{staticClass:"default-icon"})])]),n("td",{staticClass:"item-name"},[n("a",{attrs:{title:t.plugin.name},on:{click:function(e){return e.preventDefault(),t.navigateToPlugin(e)}}},[n("strong",[t._v(t._s(t.plugin.name))])]),t.activeTrialPluginEdition&&t.plugin.editions.length>1?n("edition-badge",{attrs:{name:t.activeTrialPluginEdition.name}}):t._e()],1),n("td",[t.activeTrialPluginEdition?[t.licensedEdition&&t.licensedEdition.handle!==t.activeTrialPluginEdition.handle&&t.licensedEdition.price>0&&t.licenseValidOrAstray?[n("del",{staticClass:"mr-1"},[t._v(t._s(t._f("currency")(t.activeTrialPluginEdition.price)))]),n("strong",[t._v(t._s(t._f("currency")(t.activeTrialPluginEdition.price-t.licensedEdition.price)))])]:[n("strong",[t._v(t._s(t._f("currency")(t.activeTrialPluginEdition.price)))])]]:t._e()],2),n("td",{staticClass:"w-1/4"},[n("div",{staticClass:"text-right"},[t.activeTrialLoading?[n("spinner",{attrs:{size:"sm"}})]:[n("a",{class:{"disabled hover:no-underline":t.licenseMismatched},attrs:{loading:t.activeTrialLoading},on:{click:function(e){return t.addToCart(t.plugin,t.pluginLicenseInfo.edition)}}},[t._v(t._s(t._f("t")("Add to cart","app")))])]],2)])]):t._e()},ki=[],Ti={mixins:[In],components:{EditionBadge:T},props:["plugin"],data:function(){return{activeTrialLoading:!1}},computed:Object(i["a"])(Object(i["a"])({},Object(b["mapGetters"])({getPluginEdition:"pluginStore/getPluginEdition",getPluginLicenseInfo:"craft/getPluginLicenseInfo"})),{},{activeTrialPluginEdition:function(){var t=this.getPluginLicenseInfo(this.plugin.handle),e=this.getPluginEdition(this.plugin,t.edition);return e},pluginLicenseInfo:function(){return this.getPluginLicenseInfo(this.plugin.handle)},licensedEdition:function(){return this.pluginLicenseInfo?this.getPluginEdition(this.plugin,this.pluginLicenseInfo.licensedEdition):null}}),methods:{addToCart:function(t,e){var n=this;if(this.licenseMismatched)return!1;this.activeTrialLoading=!0;var i={type:"plugin-edition",plugin:t.handle,edition:e};this.$store.dispatch("cart/addToCart",[i]).then((function(){n.activeTrialLoading=!1})).catch((function(t){n.activeTrialLoading=!1;var e=t.errors&&t.errors[0]&&t.errors[0].message?t.errors[0].message:"Couldn’t add item to cart.";n.$root.displayError(e)}))},navigateToPlugin:function(){var t="/"+this.plugin.handle;this.$root.closeModal(),this.$route.path!==t&&this.$router.push({path:t})}}},Oi=Ti,$i=Object(E["a"])(Oi,Ei,ki,!1,null,null,null),ji=$i.exports,Ni={data:function(){return{activeTrialsLoading:!1,loadingItems:{},loadingRemoveFromCart:{},loadingCheckout:!1}},components:{ActiveTrialsTableRow:ji,EditionBadge:T,Step:xi},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(b["mapState"])({activeTrialPlugins:function(t){return t.cart.activeTrialPlugins},cart:function(t){return t.cart.cart},craftId:function(t){return t.craft.craftId},craftLogo:function(t){return t.craft.craftLogo},expiryDateOptions:function(t){return t.pluginStore.expiryDateOptions},pluginLicenseInfo:function(t){return t.craft.pluginLicenseInfo}})),Object(b["mapGetters"])({cartItems:"cart/cartItems",cartItemsData:"cart/cartItemsData",getActiveTrialPluginEdition:"cart/getActiveTrialPluginEdition"})),{},{pendingActiveTrials:function(){var t=this;return this.activeTrialPlugins.filter((function(e){if(e)return!!t.cart&&!t.cart.lineItems.find((function(t){return t.purchasable.pluginId==e.id}))}))},selectedExpiryDates:{get:function(){return JSON.parse(JSON.stringify(this.$store.state.cart.selectedExpiryDates))},set:function(t){this.$store.commit("cart/updateSelectedExpiryDates",t)}}}),methods:Object(i["a"])(Object(i["a"])({},Object(b["mapActions"])({removeFromCart:"cart/removeFromCart"})),{},{addAllToCart:function(){var t=this,e=this.$store,n=[];this.pendingActiveTrials.forEach((function(e){var i=t.getActiveTrialPluginEdition(e),a={type:"plugin-edition",plugin:e.handle,edition:i.handle};n.push(a)})),e.dispatch("cart/addToCart",n).catch((function(){t.$root.displayError(t.$options.filters.t("Couldn’t add all items to the cart.","app"))}))},itemExpiryDateOptions:function(t){var e=this.cartItems[t],n=e.lineItem.purchasable.renewalPrice,i=[],a=0;this.expiryDateOptions.forEach((function(t,n){t===e.lineItem.options.expiryDate&&(a=n)}));for(var r=0;r<this.expiryDateOptions.length;r++){var s=this.expiryDateOptions[r],o=s[0],c=Craft.formatDate(s[1]),l=this.$options.filters.t("Updates until {date}","app",{date:c}),u=n*(r-a);if(0!==u){var d="";u>0&&(d="+"),u=this.$options.filters.currency(u),l=this.$options.filters.t("Updates until {date} ({sign}{price})","app",{date:c,sign:d,price:u})}i.push({label:l,value:o})}return i},itemLoading:function(t){return!!this.loadingItems[t]},onSelectedExpiryDateChange:function(t){var e=this;this.$set(this.loadingItems,t,!0);var n=this.cartItemsData[t];n.expiryDate=this.selectedExpiryDates[t],this.$store.dispatch("cart/updateItem",{itemKey:t,item:n}).then((function(){e.$delete(e.loadingItems,t)}))},payment:function(){var t=this;if(this.craftId)if(this.craftId.email===this.cart.email)this.$root.openModal("payment");else{var e={email:this.craftId.email};this.loadingCheckout=!0,this.$store.dispatch("cart/saveCart",e).then((function(){t.loadingCheckout=!1,t.$root.openModal("payment")})).catch((function(e){throw t.loadingCheckout=!1,t.$root.displayError("Couldn’t update cart."),e}))}else this.$root.openModal("identity")},removeFromCart:function(t){var e=this;this.$set(this.loadingRemoveFromCart,t,!0),this.$store.dispatch("cart/removeFromCart",t).then((function(){e.$delete(e.loadingRemoveFromCart,t)})).catch((function(n){e.$delete(e.loadingRemoveFromCart,t);var i=n.errors&&n.errors[0]&&n.errors[0].message?n.errors[0].message:"Couldn’t remove item from cart.";e.$root.displayError(i)}))},removeFromCartLoading:function(t){return!!this.loadingRemoveFromCart[t]}}),mounted:function(){var t=this;this.activeTrialsLoading=!0,this.$store.dispatch("cart/getActiveTrialPlugins").then((function(){t.activeTrialsLoading=!1})).catch((function(){t.activeTrialsLoading=!1}))}},Li=Ni,Ai=(n("8127"),Object(E["a"])(Li,Ii,wi,!1,null,null,null)),zi=Ai.exports,Bi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("step",[n("template",{slot:"header"},[n("div",{staticClass:"btn-left"},[n("a",{on:{click:function(e){return t.$emit("back")}}},[t._v(t._s(t._f("t")("Back","app")))])]),n("h1",[t._v("Identity")])]),n("template",{slot:"main"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.save()}}},[n("p",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.identityMode,expression:"identityMode"}],attrs:{type:"radio",value:"craftid"},domProps:{checked:t._q(t.identityMode,"craftid")},on:{change:function(e){t.identityMode="craftid"}}}),t._v(" "+t._s(t._f("t")("Use your Craft ID","app")))])]),"craftid"===t.identityMode?[n("p",[n("btn",{attrs:{kind:"primary"},on:{click:t.connectCraftId}},[t._v(t._s(t._f("t")("Connect to your Craft ID","app")))])],1)]:t._e(),n("p",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.identityMode,expression:"identityMode"}],attrs:{type:"radio",value:"guest"},domProps:{checked:t._q(t.identityMode,"guest")},on:{change:function(e){t.identityMode="guest"}}}),t._v(" "+t._s(t._f("t")("Continue as guest","app")))])]),"guest"===t.identityMode?[n("textbox",{attrs:{id:"email",placeholder:"Email",errors:t.guestEmailError},model:{value:t.guestEmail,callback:function(e){t.guestEmail=e},expression:"guestEmail"}}),n("btn",{attrs:{kind:"primary",type:"submit",disabled:!t.validates||t.loading,loading:t.loading}},[t._v(t._s(t._f("t")("Continue","app")))])]:t._e()],2)])],2)},Ui=[],Ri={components:{Step:xi},data:function(){return{guestEmail:"",guestEmailError:!1,loading:!1}},computed:Object(i["a"])(Object(i["a"])({},Object(b["mapState"])({cart:function(t){return t.cart.cart},craftId:function(t){return t.craft.craftId}})),{},{identityMode:{get:function(){return this.$store.state.cart.identityMode},set:function(t){this.$store.commit("cart/changeIdentityMode",t)}},validates:function(){return!("guest"===this.identityMode&&!this.guestEmail)}}),methods:{connectCraftId:function(){var t=800,e=600,n=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,i=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,a=n/2-t/2,r=i/2-e/2,s=Craft.getActionUrl("plugin-store/connect",{redirectUrl:Craft.getActionUrl("plugin-store/modal-callback")}),o="ConnectWithOauth",c="location=0,status=0,width="+t+",height="+e+",left="+a+",top="+r;window.open(s,o,c)},save:function(){var t=this;if(this.loading=!0,"guest"===this.identityMode){var e={email:this.guestEmail};this.$store.dispatch("cart/saveCart",e).then((function(){t.loading=!1,t.$root.openModal("payment")})).catch((function(e){throw t.loading=!1,t.$root.displayError("Couldn’t save identity."),e}))}else this.loading=!1,this.$root.openModal("payment")}},mounted:function(){this.$root.$on("craftIdUpdated",function(){this.craftId&&this.$root.openModal("payment")}.bind(this)),this.guestEmail=this.cart.email}},Qi=Ri,Gi=Object(E["a"])(Qi,Bi,Ui,!1,null,null,null),Hi=Gi.exports,Fi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("step",[n("template",{slot:"header"},[n("div",{staticClass:"btn-left"},[n("a",{on:{click:function(e){return t.$emit("back")}}},[t._v(t._s(t._f("t")("Back","app")))])]),n("h1",[t._v(t._s(t._f("t")("Payment","app")))])]),n("template",{slot:"main"},[n("form",{staticClass:"payment",on:{submit:function(e){return e.preventDefault(),t.checkout()}}},[n("div",{staticClass:"blocks"},[n("div",{staticClass:"block"},[t.staticCartTotal>0?n("div",[n("h2",[t._v(t._s(t._f("t")("Payment Method","app")))]),t.craftId?[t.craftId.card?[n("radio",{attrs:{value:"existingCard",label:t.$options.filters.t("Use card {cardDetails}","app",{cardDetails:t.craftId.card.brand+" •••• •••• •••• "+t.craftId.card.last4+" — "+t.craftId.card.exp_month+"/"+t.craftId.card.exp_year})},model:{value:t.paymentMode,callback:function(e){t.paymentMode=e},expression:"paymentMode"}})]:t._e(),n("radio",{attrs:{value:"newCard",label:t.$options.filters.t("Use a new credit card","app")},model:{value:t.paymentMode,callback:function(e){t.paymentMode=e},expression:"paymentMode"}}),"newCard"===t.paymentMode?[t.cardToken?n("p",[t._v(t._s(t.cardToken.card.brand)+" •••• •••• •••• "+t._s(t.cardToken.card.last4)+" ("+t._s(t.cardToken.card.exp_month)+"/"+t._s(t.cardToken.card.exp_year)+") "),n("a",{staticClass:"delete icon",on:{click:function(e){t.cardToken=null}}})]):n("credit-card",{ref:"newCard"}),n("checkbox",{attrs:{id:"replaceCard",label:t._f("t")("Save as my new credit card","app")},model:{value:t.replaceCard,callback:function(e){t.replaceCard=e},expression:"replaceCard"}})]:t._e()]:[n("credit-card",{ref:"guestCard"})]],2):t._e(),n("h2",[t._v(t._s(t._f("t")("Coupon Code","app")))]),n("textbox",{attrs:{placeholder:"XXXXXXX",id:"coupon-code",size:"12",errors:t.couponCodeError},on:{input:t.couponCodeChange},model:{value:t.couponCode,callback:function(e){t.couponCode=e},expression:"couponCode"}}),t.couponCodeLoading?n("spinner",{staticClass:"mt-2"}):t._e()],1),n("div",{staticClass:"block"},[n("h2",[t._v(t._s(t._f("t")("Billing","app")))]),n("div",{staticClass:"flex"},[n("div",{staticClass:"flex-grow"},[n("textbox",{attrs:{placeholder:t._f("t")("First Name","app"),id:"first-name",errors:t.errors["billingAddress.firstName"]},model:{value:t.billingInfo.firstName,callback:function(e){t.$set(t.billingInfo,"firstName",e)},expression:"billingInfo.firstName"}})],1),n("div",{staticClass:"flex-grow"},[n("textbox",{attrs:{placeholder:t._f("t")("Last Name","app"),id:"last-name",errors:t.errors["billingAddress.lastName"]},model:{value:t.billingInfo.lastName,callback:function(e){t.$set(t.billingInfo,"lastName",e)},expression:"billingInfo.lastName"}})],1)]),n("div",{staticClass:"flex"},[n("div",{staticClass:"flex-grow"},[n("textbox",{attrs:{placeholder:t._f("t")("Business Name","app"),id:"business-name",errors:t.errors["billingAddress.businessName"]},model:{value:t.billingInfo.businessName,callback:function(e){t.$set(t.billingInfo,"businessName",e)},expression:"billingInfo.businessName"}})],1),n("div",{staticClass:"flex-grow"},[n("textbox",{attrs:{placeholder:t._f("t")("Business Tax ID","app"),id:"business-tax-id",errors:t.errors["billingAddress.businessTaxId"]},model:{value:t.billingInfo.businessTaxId,callback:function(e){t.$set(t.billingInfo,"businessTaxId",e)},expression:"billingInfo.businessTaxId"}})],1)]),n("textbox",{attrs:{placeholder:t._f("t")("Address Line 1","app"),id:"address-1",errors:t.errors["billingAddress.address1"]},model:{value:t.billingInfo.address1,callback:function(e){t.$set(t.billingInfo,"address1",e)},expression:"billingInfo.address1"}}),n("textbox",{attrs:{placeholder:t._f("t")("Address Line 2","app"),id:"address-2",errors:t.errors["billingAddress.address2"]},model:{value:t.billingInfo.address2,callback:function(e){t.$set(t.billingInfo,"address2",e)},expression:"billingInfo.address2"}}),n("div",{staticClass:"flex"},[n("div",{staticClass:"flex-grow"},[n("textbox",{class:{error:t.errors["billingAddress.city"]},attrs:{placeholder:t._f("t")("City","app"),id:"city"},model:{value:t.billingInfo.city,callback:function(e){t.$set(t.billingInfo,"city",e)},expression:"billingInfo.city"}})],1),n("div",{staticClass:"flex-grow"},[n("textbox",{class:{error:t.errors["billingAddress.zipCode"]},attrs:{placeholder:t._f("t")("Zip Code","app"),id:"zip-code"},model:{value:t.billingInfo.zipCode,callback:function(e){t.$set(t.billingInfo,"zipCode",e)},expression:"billingInfo.zipCode"}})],1)]),n("div",{staticClass:"flex items-start"},[n("div",{staticClass:"flex-grow"},[n("dropdown",{attrs:{options:t.countryOptions,errors:t.errors["billingAddress.country"]},on:{input:t.onCountryChange},model:{value:t.billingInfo.country,callback:function(e){t.$set(t.billingInfo,"country",e)},expression:"billingInfo.country"}})],1),n("div",{staticClass:"flex-grow"},[n("dropdown",{attrs:{options:t.stateOptions,errors:t.errors["billingAddress.state"]},model:{value:t.billingInfo.state,callback:function(e){t.$set(t.billingInfo,"state",e)},expression:"billingInfo.state"}})],1)])],1)]),n("hr"),n("div",{staticClass:"centeralign"},[t.error?n("p",{staticClass:"error"},[t._v(t._s(t.error))]):t._e(),n("div",{staticClass:"mb-4"},[n("btn",{attrs:{kind:"primary",type:"submit",loading:t.loading,disabled:t.loading||t.couponCodeLoading}},[t._v(t._s(t._f("t")("Pay {price}","app",{price:t.$options.filters.currency(t.staticCartTotal)})))])],1),n("p",[n("img",{attrs:{src:t.poweredByStripe,width:"80"}})])])])])],2)},Yi=[],qi=(n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card"},[n("div",{staticClass:"field"},[n("cleave",{staticClass:"fullwidth",class:{error:t.errors.number},attrs:{type:"tel",id:"cc-number",autocomplete:"off",placeholder:t._f("t")("Card number","app"),options:{creditCard:!0}},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1),n("div",{staticClass:"field"},[n("div",{staticClass:"flex"},[n("div",{staticClass:"flex-grow"},[n("cleave",{staticClass:"w-full",class:{error:t.errors.exp},attrs:{type:"tel",id:"cc-exp",autocomplete:"off",placeholder:t._f("t")("MM / YY","app"),options:{date:!0,datePattern:["m","y"]}},model:{value:t.exp,callback:function(e){t.exp=e},expression:"exp"}})],1),n("div",{staticClass:"flex-grow"},[n("cleave",{staticClass:"w-full",class:{error:t.errors.cvc},attrs:{id:"cc-cvc",autocomplete:"off",placeholder:t._f("t")("CVC","app"),options:{numericOnly:!0,blocks:[4]}},model:{value:t.cvc,callback:function(e){t.cvc=e},expression:"cvc"}})],1)])])])}),Ki=[],Vi=(n("1276"),n("9a8f")),Zi={components:{Cleave:Vi["a"]},data:function(){return{number:"",exp:"",cvc:"",errors:{number:!1,exp:!1,cvc:!1}}},computed:Object(i["a"])(Object(i["a"])({},Object(b["mapState"])({stripePublicKey:function(t){return t.cart.stripePublicKey}})),{},{expMonth:function(){var t=this.exp.split("/");return t[0]},expYear:function(){var t=this.exp.split("/");return t[1]}}),methods:{save:function(t,e){this.validates()?(Stripe.setPublishableKey(this.stripePublicKey),Stripe.source.create({type:"card",card:{number:this.number,exp_month:this.expMonth,exp_year:this.expYear,cvc:this.cvc}},(function(n,i){i.error?e(i):t(i)}))):e()},validates:function(){var t=!1;return this.errors.number=!1,this.errors.exp=!1,this.errors.cvc=!1,this.number||(this.errors.number=!0,t=!0),this.exp||(this.errors.exp=!0,t=!0),this.cvc||(this.errors.cvc=!0,t=!0),!t}}},Wi=Zi,Ji=Object(E["a"])(Wi,qi,Ki,!1,null,null,null),Xi=Ji.exports,ta={components:{CreditCard:Xi,Step:xi},data:function(){return{billingInfo:{firstName:"",lastName:"",businessName:"",businessTaxId:"",address1:"",address2:"",country:"",state:"",city:"",zipCode:""},billingInfoErrors:{businessTaxId:!1},cardToken:null,couponCode:"",couponCodeError:!1,couponCodeLoading:!1,couponCodeSuccess:!1,couponCodeTimeout:!1,error:null,errors:{},guestCardToken:null,loading:!1,paymentMode:"newCard",replaceCard:!1,stateOptions:[],staticCartTotal:0}},computed:Object(i["a"])(Object(i["a"])({},Object(b["mapState"])({cart:function(t){return t.cart.cart},countries:function(t){return t.craft.countries},craftId:function(t){return t.craft.craftId},poweredByStripe:function(t){return t.craft.poweredByStripe},states:function(t){return t.craft.states}})),{},{billingCountryName:function(){var t=this.billingInfo.country;if(t&&this.countries[t])return this.countries[t].name},countryOptions:function(){var t=[];for(var e in this.countries)Object.prototype.hasOwnProperty.call(this.countries,e)&&t.push({label:this.countries[e].name,value:e});return t}}),methods:{checkout:function(){var t=this;this.error=null,this.errors={},this.loading=!0,this.savePaymentMethod((function(){t.saveBillingInfo((function(){var e=null;if(t.cart.totalPrice>0)if(t.craftId)switch(t.paymentMode){case"newCard":e=t.cardToken.id;break;default:e=t.craftId.cardToken}else e=t.guestCardToken.id;var n={orderNumber:t.cart.number,token:e,expectedPrice:t.cart.totalPrice,makePrimary:t.replaceCard};t.$store.dispatch("cart/checkout",n).then((function(){t.$store.dispatch("cart/savePluginLicenseKeys",t.cart).then((function(){t.$store.dispatch("craft/getCraftData").then((function(){t.$store.dispatch("craft/getPluginLicenseInfo").then((function(){t.$store.dispatch("cart/resetCart").then((function(){t.loading=!1,t.error=null,t.$root.modalStep="thank-you"}))}))}))}))})).catch((function(e){t.loading=!1,t.error=e.response.data&&e.response.data.message||e.response.statusText,t.$root.displayError("An error occurred.")}))}),(function(e){e.response&&e.response.data.errors&&e.response.data.errors.forEach((function(e){t.errors[e.param]=[e.message]})),t.loading=!1,t.$root.displayError("Couldn’t save billing information.")}))}),(function(){t.loading=!1,t.$root.displayError("Couldn’t save payment method.")}))},couponCodeChange:function(t){clearTimeout(this.couponCodeTimeout),this.couponCodeSuccess=!1,this.couponCodeError=!1,this.couponCodeTimeout=setTimeout(function(){var e=this;this.couponCodeLoading=!0;var n={couponCode:t||null};this.$store.dispatch("cart/saveCart",n).then((function(){e.couponCodeSuccess=!0,e.couponCodeError=!1,e.staticCartTotal=e.cart.totalPrice,e.couponCodeLoading=!1})).catch((function(){e.couponCodeError=!0,e.staticCartTotal=e.cart.totalPrice,e.couponCodeLoading=!1}))}.bind(this),500)},onCountryChange:function(t){if(this.countries[t]){var e=this.countries[t];if(e.states){var n=e.states,i=[];for(var a in n)i.push({label:n[a],value:a});this.stateOptions=i}else this.stateOptions=[]}else this.stateOptions=[]},saveBillingInfo:function(t,e){var n={billingAddress:{firstName:this.billingInfo.firstName,lastName:this.billingInfo.lastName,businessName:this.billingInfo.businessName,businessTaxId:this.billingInfo.businessTaxId,address1:this.billingInfo.address1,address2:this.billingInfo.address2,country:this.billingInfo.country,state:this.billingInfo.state,city:this.billingInfo.city,zipCode:this.billingInfo.zipCode}};this.$store.dispatch("cart/saveCart",n).then((function(e){t(e)})).catch((function(t){e(t)}))},savePaymentMethod:function(t,e){var n=this;this.cart.totalPrice>0?this.craftId?"newCard"===this.paymentMode?this.cardToken?t():this.$refs.newCard.save((function(e){n.cardToken=e,t()}),(function(){e()})):t():this.$refs.guestCard.save((function(e){n.guestCardToken=e,t()}),(function(){e()})):t()}},mounted:function(){var t=this;this.staticCartTotal=this.cart.totalPrice,this.couponCode=this.cart.couponCode,this.craftId&&this.craftId.billingAddress&&(this.craftId.card&&(this.paymentMode="existingCard"),this.craftId.billingAddress.country&&this.onCountryChange(this.craftId.billingAddress.country),this.$nextTick((function(){t.billingInfo=JSON.parse(JSON.stringify(t.craftId.billingAddress))})))}},ea=ta,na=(n("d56d"),Object(E["a"])(ea,Fi,Yi,!1,null,null,null)),ia=na.exports,aa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("step",[n("template",{slot:"main"},[n("div",{attrs:{id:"thank-you-message"}},[n("icon",{attrs:{icon:"check-circle",size:"4xl"}}),n("h2",[t._v(t._s(t._f("t")("Thank You!","app")))]),n("p",{staticClass:"light"},[t._v(t._s(t._f("t")("Your order has been processed successfully.","app")))]),n("div",{staticClass:"mt-6"},[n("btn",{attrs:{kind:"primary",href:t.managePluginsUrl}},[t._v(t._s(t._f("t")("Manage plugins","app")))])],1)],1)])],2)},ra=[],sa={components:{Step:xi},computed:{managePluginsUrl:function(){return Craft.getCpUrl("settings/plugins")}}},oa=sa,ca=Object(E["a"])(oa,aa,ra,!1,null,null,null),la=ca.exports,ua={components:{Cart:zi,Identity:Hi,Payment:ia,ThankYou:la},props:["pluginId","show"],data:function(){return{modal:null}},computed:Object(i["a"])(Object(i["a"])({},Object(b["mapState"])({identityMode:function(t){return t.cart.identityMode}})),{},{modalStep:function(){return this.$root.modalStep}}),watch:{show:function(t){t?this.modal.show():this.modal.hide()}},methods:{back:function(){"craftid"===this.identityMode||"identity"===this.modalStep?this.$root.openModal("cart"):this.$root.openModal("identity")}},mounted:function(){var t=this;this.modal=new Garnish.Modal(this.$refs.pluginstoremodal,{autoShow:!1,resizable:!0,onHide:function(){t.$emit("update:show",!1)}})}},da=ua,pa=(n("4db5"),Object(E["a"])(da,yi,_i,!1,null,null,null)),fa=pa.exports,ga=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ps-wrapper"},[n("transition",{attrs:{name:"fade"}},[t.showingScreenshotModal?n("screenshot-modal"):t._e()],1),t.$root.pluginStoreDataLoaded?[n("sidebar"),n("div",{staticClass:"ps-main",on:{"&scroll":function(e){return t.onViewScroll(e)}}},[n("router-view",{key:t.$route.fullPath})],1)]:[n("status-message",{attrs:{error:t.$root.pluginStoreDataError,message:t.$root.statusMessage}})],n("modal",{attrs:{show:t.$root.showModal,"plugin-id":t.$root.pluginId},on:{"update:show":function(e){return t.$set(t.$root,"showModal",e)}}})],2)},ha=[],ma=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ps-sidebar"},[n("plugin-search"),n("category-selector"),n("ul",{staticClass:"categories"},[t.CraftEdition<t.CraftPro||t.licensedEdition<t.CraftPro?n("li",[n("router-link",{attrs:{to:"/upgrade-craft"}},[n("img",{attrs:{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+CiAgPGcgZmlsbD0ibm9uZSI+CiAgICA8cmVjdCB3aWR0aD0iNDAuOTA5IiBoZWlnaHQ9IjQwLjkwOSIgeD0iMjkuNTQ1IiB5PSIyOS41NDUiIGZpbGw9IiNGRkYiLz4KICAgIDxwYXRoIGZpbGw9IiNFNTQyMkIiIGQ9Ik04OS40NzM2ODQyLDAgTDEwLjUyNjMxNTgsMCBDNC42NzgzNjI1NywwIDAsNC42NzgzNjI1NyAwLDEwLjUyNjMxNTggTDAsODkuNDczNjg0MiBDMCw5NS4zMjE2Mzc0IDQuNjc4MzYyNTcsMTAwIDEwLjUyNjMxNTgsMTAwIEw4OS40NzM2ODQyLDEwMCBDOTUuMjA0Njc4NCwxMDAgMTAwLDk1LjMyMTYzNzQgMTAwLDg5LjQ3MzY4NDIgTDEwMCwxMC41MjYzMTU4IEMxMDAsNC42NzgzNjI1NyA5NS4zMjE2Mzc0LDAgODkuNDczNjg0MiwwIE02MCw1Ni42MDgxODcxIEw2NC42NzgzNjI2LDYxLjk4ODMwNDEgQzU5Ljc2NjA4MTksNjUuOTY0OTEyMyA1NC4xNTIwNDY4LDY4LjE4NzEzNDUgNDguNTM4MDExNyw2OC4xODcxMzQ1IEMzNy40MjY5MDA2LDY4LjE4NzEzNDUgMzAuNDA5MzU2Nyw2MC44MTg3MTM1IDMyLjA0Njc4MzYsNTAuNDA5MzU2NyBDMzMuNjg0MjEwNSw0MCA0My4xNTc4OTQ3LDMyLjYzMTU3ODkgNTQuMjY5MDA1OCwzMi42MzE1Nzg5IEM1OS42NDkxMjI4LDMyLjYzMTU3ODkgNjQuNjc4MzYyNiwzNC43MzY4NDIxIDY4LjE4NzEzNDUsMzguNTk2NDkxMiBMNjEuNjM3NDI2OSw0My45NzY2MDgyIEM1OS43NjYwODE5LDQxLjUyMDQ2NzggNTYuNjA4MTg3MSwzOS44ODMwNDA5IDUzLjA5OTQxNTIsMzkuODgzMDQwOSBDNDYuNDMyNzQ4NSwzOS44ODMwNDA5IDQxLjI4NjU0OTcsNDQuMjEwNTI2MyA0MC4yMzM5MTgxLDUwLjQwOTM1NjcgQzM5LjI5ODI0NTYsNTYuNjA4MTg3MSA0My4wNDA5MzU3LDYwLjkzNTY3MjUgNDkuODI0NTYxNCw2MC45MzU2NzI1IEM1My4wOTk0MTUyLDYwLjkzNTY3MjUgNTYuNjA4MTg3MSw1OS42NDkxMjI4IDYwLDU2LjYwODE4NzEgWiIvPgogIDwvZz4KPC9zdmc+Cg=="}}),t._v(" "+t._s(t._f("t")("Upgrade Craft CMS","app"))+" ")])],1):t._e(),t._l(t.categories,(function(e){return n("li",{key:e.id},[n("router-link",{attrs:{to:"/categories/"+e.id}},[n("img",{attrs:{src:e.iconUrl}}),t._v(" "+t._s(e.title)+" ")])],1)}))],2)],1)},va=[],Ca=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a",{staticClass:"category-selector-btn",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showCategorySelector=!t.showCategorySelector}}},[t._v("All categories")]),n("div",{staticClass:"category-selector",class:{hidden:!t.showCategorySelector}},[n("div",{staticClass:"category-selector-header"},[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showCategorySelector=!1}}},[t._v("Hide categories")])]),n("div",{staticClass:"category-selector-body"},[n("ul",{staticClass:"categories"},[t.CraftEdition<t.CraftPro||t.licensedEdition<t.CraftPro?n("li",[n("router-link",{attrs:{to:"/upgrade-craft"}},[n("img",{attrs:{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDBweCIgaGVpZ2h0PSIxMDBweCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Y3JhZnQ8L3RpdGxlPiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4gICAgPGRlZnM+PC9kZWZzPiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJjcmFmdCI+ICAgICAgICAgICAgPGNpcmNsZSBpZD0iT3ZhbCIgZmlsbD0iI0RBNUE0NyIgY3g9IjUwIiBjeT0iNTAiIHI9IjUwIj48L2NpcmNsZT4gICAgICAgICAgICA8cGF0aCBkPSJNNjUuMTMxNDQwNCwzNC4yNjI5Njc5IEM2NS40MTUyMjQxLDM0LjQ3NTEzMDEgNjUuNjgyNzkxNywzNC42OTk0NTQ0IDY1Ljk0NDk1MzksMzQuOTI3ODMyOCBMNzAuMTgyNzkxNywzMS42MzA1MzU1IEw3MC4zMTUyMjQxLDMxLjQ2MDI2NTIgQzY5LjY2MDE5NjUsMzAuODAwOTk5IDY4Ljk1ODM2NzUsMzAuMTg5OTQ3IDY4LjIxNTIyNDEsMjkuNjMxODg2OSBDNTguNDg5NTQ4NSwyMi4zNTQ4NTk4IDQzLjc5MjI1MTIsMjUuNDAwODA1OCAzNS4zODgxOTcxLDM2LjQzNTk0MDkgQzI2Ljk4OTU0ODUsNDcuNDY5NzI0NyAyOC4wNjM4NzI4LDYyLjMxMDI2NTIgMzcuNzg4MTk3MSw2OS41ODk5OTUgQzQ1LjczMDA4OSw3NS41MzA1MzU1IDU2Ljk4Mjc5MTcsNzQuNTg3MjkyMyA2NS40MTkyNzgyLDY4LjAzNTk0MDkgTDY1LjQxMjUyMTQsNjguMDE5NzI0NyBMNjEuMzc3Mzg2Myw2NC44ODQ1ODk2IEM1NS4xMjQ2ODM2LDY4Ljg2ODM3MzMgNDcuMzY5Mjc4Miw2OS4xNTQ4NTk4IDQxLjc1ODQ2NzQsNjQuOTU3NTYyNSBDMzQuMjg1NDk0NCw1OS4zNjgzNzMzIDMzLjQ2MTE3MDEsNDcuOTY1NjcwNiAzOS45MTY1NzU1LDM5LjQ4OTk5NSBDNDYuMzY5Mjc4MiwzMS4wMTI5Njc5IDU3LjY1OTgxODcsMjguNjczNzc4OCA2NS4xMzAwODksMzQuMjYyOTY3OSBMNjUuMTMxNDQwNCwzNC4yNjI5Njc5IFoiIGlkPSJQYXRoIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8L2c+ICAgIDwvZz48L3N2Zz4="}}),t._v(" "+t._s(t._f("t")("Upgrade Craft CMS","app"))+" ")])],1):t._e(),t._l(t.categories,(function(e,i){return n("li",{key:i},[n("router-link",{attrs:{to:"/categories/"+e.id},nativeOn:{click:function(e){t.showCategorySelector=!1}}},[n("img",{attrs:{src:e.iconUrl}}),t._v(" "+t._s(e.title)+" ")])],1)}))],2)])])])},ba=[],ya={data:function(){return{showCategorySelector:!1}},computed:Object(i["a"])({},Object(b["mapState"])({categories:function(t){return t.pluginStore.categories},CraftEdition:function(t){return t.craft.CraftEdition},CraftPro:function(t){return t.craft.CraftPro},licensedEdition:function(t){return t.craft.licensedEdition}}))},_a=ya,Ia=(n("c855"),Object(E["a"])(_a,Ca,ba,!1,null,"5cf8a604",null)),wa=Ia.exports,Pa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mb-4"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.search()}}},[n("div",{staticClass:"ps-search"},[n("icon",{attrs:{icon:"search"}}),n("textbox",{attrs:{id:"searchQuery",placeholder:t._f("t")("Search plugins","app"),autocomplete:"off"},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}})],1)])])},Ma=[],Da={data:function(){return{searchQuery:""}},methods:{search:function(){this.searchQuery&&(this.$store.commit("app/updateSearchQuery",this.searchQuery),this.$router.push({path:"/search"}))}}},Sa=Da,xa=(n("6996"),Object(E["a"])(Sa,Pa,Ma,!1,null,null,null)),Ea=xa.exports,ka={components:{CategorySelector:wa,PluginSearch:Ea},computed:Object(i["a"])({},Object(b["mapState"])({categories:function(t){return t.pluginStore.categories},CraftEdition:function(t){return t.craft.CraftEdition},CraftPro:function(t){return t.craft.CraftPro},licensedEdition:function(t){return t.craft.licensedEdition}}))},Ta=ka,Oa=(n("c8a8"),Object(E["a"])(Ta,ma,va,!1,null,"00626be6",null)),$a=Oa.exports,ja=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"screenshotModal",attrs:{id:"screenshot-modal"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}}},[n("a",{staticClass:"close",on:{click:t.close}},[t._v("×")]),t.screenshotModalImages?n("div",{ref:"carousel",staticClass:"carousel"},[n("swiper",{ref:"screenshotModalSwiper",attrs:{options:t.swiperOption}},t._l(t.screenshotModalImages,(function(t,e){return n("swiper-slide",{key:e},[n("div",{staticClass:"screenshot"},[n("div",{staticClass:"swiper-zoom-container"},[n("img",{attrs:{src:t}})])])])})),1),t.screenshotModalImages.length>1?[n("div",{staticClass:"swiper-button-prev"},[n("icon",{attrs:{icon:"chevron-left",size:"xl"}})],1),n("div",{staticClass:"swiper-button-next"},[n("icon",{attrs:{icon:"chevron-right",size:"xl"}})],1),n("div",{staticClass:"pagination-wrapper"},[n("div",{staticClass:"pagination-content"},[n("div",{class:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})])])]:t._e()],2):t._e()])},Na=[],La={data:function(){return{ratio:"4:3"}},computed:Object(i["a"])(Object(i["a"])({},Object(b["mapState"])({screenshotModalImageKey:function(t){return t.app.screenshotModalImageKey},screenshotModalImages:function(t){return t.app.screenshotModalImages}})),{},{swiper:function(){return this.$refs.screenshotModalSwiper.swiper},swiperOption:function(){return{initialSlide:0,loop:!1,pagination:{el:".swiper-pagination",clickable:!0},keyboard:!0,zoom:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}}}),methods:{close:function(){this.$store.commit("app/updateShowingScreenshotModal",!1)},handleEscapeKey:function(t){27===t.keyCode&&this.close()},handleResize:function(){if(0!==this.screenshotModalImages.length){var t,e=this.ratio.split(":"),n=e[0],i=e[1],a=this.$refs.carousel,r=a.offsetWidth,s=a.offsetHeight,o=a.getElementsByTagName("img");this.inline?t=r*i/n:(t=r>s?r*i/n:s*n/i,s>0&&t>s&&(t=s));for(var c=0;c<o.length;c++){var l=o[c];l.style.maxHeight=t+"px"}}}},mounted:function(){this.swiper.slideTo(this.screenshotModalImageKey,0),window.addEventListener("resize",this.handleResize),this.handleResize()},created:function(){window.addEventListener("keydown",this.handleEscapeKey)},beforeDestroy:function(){this.swiper.destroy(!0,!1),window.removeEventListener("resize",this.handleResize),window.removeEventListener("keydown",this.handleEscapeKey)}},Aa=La,za=(n("9819"),Object(E["a"])(Aa,ja,Na,!1,null,null,null)),Ba=za.exports,Ua={components:{Sidebar:$a,Modal:fa,StatusMessage:De,ScreenshotModal:Ba},computed:Object(i["a"])({},Object(b["mapState"])({showingScreenshotModal:function(t){return t.app.showingScreenshotModal}})),methods:{onViewScroll:function(t){this.$root.$emit("viewScroll",t)}},mounted:function(){window.addEventListener("resize",function(t){this.$root.$emit("windowResize",t)}.bind(this)),window.addEventListener("scroll",function(t){this.$root.$emit("windowScroll",t)}.bind(this))}},Ra=Ua,Qa=(n("5c0b"),n("7fb8"),Object(E["a"])(Ra,ga,ha,!1,null,null,null)),Ga=Qa.exports,Ha=n("76f0");r.a.use(Ha["a"]);var Fa=n("7212"),Ya=n.n(Fa);n("dfa4");r.a.use(Ya.a),r.a.filter("currency",u),r.a.filter("escapeHtml",d),r.a.filter("formatDate",f),r.a.filter("formatNumber",g),r.a.filter("t",p),Garnish.$doc.ready((function(){Craft.initUiElements(),window.pluginStoreApp=new r.a({router:Fn,store:bi,render:function(t){return t(Ga)},components:{Modal:fa,StatusMessage:De,App:Ga},data:function(){return{allDataLoaded:!1,cartDataLoaded:!1,coreDataLoaded:!1,craftDataLoaded:!1,craftIdDataLoaded:!1,modalStep:null,pageTitle:"Plugin Store",plugin:null,pluginId:null,pluginLicenseInfoLoaded:!1,pluginStoreDataError:!1,showModal:!1,statusMessage:null}},computed:Object(i["a"])(Object(i["a"])({},Object(b["mapState"])({cart:function(t){return t.cart.cart},craftId:function(t){return t.craft.craftId}})),{},{pluginStoreDataLoaded:function(){return this.coreDataLoaded&&this.pluginLicenseInfoLoaded}}),watch:{cart:function(t){this.$emit("cartChange",t)},craftId:function(){this.$emit("craftIdChange")}},methods:{displayNotice:function(t){Craft.cp.displayNotice(t)},displayError:function(t){Craft.cp.displayError(t)},openModal:function(t){this.modalStep=t,this.showModal=!0},closeModal:function(){this.showModal=!1},updateCraftId:function(t,e){var n=this;if(this.$store.commit("craft/updateCraftId",t),this.craftId&&this.craftId.email!==this.cart.email){var i={email:this.craftId.email};this.$store.dispatch("cart/saveCart",i).then((function(){n.$emit("craftIdUpdated"),e&&e()})).catch((function(t){throw n.$root.displayError("Couldn’t update cart’s email."),e&&e(),t}))}else this.$emit("craftIdUpdated"),e&&e()},initializeOuterComponents:function(){var t=$("#header h1");t.on("click",function(){this.$router.push({path:"/"})}.bind(this));var e=$("#cart-button");e.on("click",function(t){t.preventDefault(),this.openModal("cart")}.bind(this)),e.keydown(function(t){switch(t.which){case 13:case 32:t.preventDefault(),this.openModal("cart");break}}.bind(this)),this.$on("cartChange",(function(t){var n=0;t&&(n=t.totalQty),$(".badge",e).html(n)}));var n=$("#pluginstore-actions"),i=$("#pluginstore-actions-spinner");this.$on("dataLoaded",function(){!this.pluginStoreDataLoaded||this.craftDataLoaded&&this.cartDataLoaded&&this.craftIdDataLoaded||i.removeClass("hidden")}.bind(this)),this.$on("allDataLoaded",(function(){n.removeClass("hidden"),i.addClass("hidden")}));var a=$("#craftid-account"),r=$("#craftid-connect-form"),s=$("#craftid-disconnect-form");this.$on("craftIdChange",(function(){this.craftId?($(".label",a).html(this.craftId.username),a.removeClass("hidden"),r.addClass("hidden"),s.removeClass("hidden")):(a.addClass("hidden"),r.removeClass("hidden"),s.addClass("hidden"))})),$("a[href]").on("click",function(){this.$store.dispatch("craft/cancelRequests"),this.$store.dispatch("pluginStore/cancelRequests")}.bind(this))},loadCartData:function(){var t=this;this.$store.dispatch("cart/getCart").then((function(){t.cartDataLoaded=!0,t.$emit("dataLoaded")}))},loadCraftData:function(t){var e=this;this.$store.dispatch("craft/getCraftData").then((function(){e.craftDataLoaded=!0,e.$emit("dataLoaded"),"function"===typeof t&&t()})).catch((function(){e.craftDataLoaded=!0}))},loadCraftIdData:function(){var t=this;if(window.craftIdAccessToken){var e=window.craftIdAccessToken;this.$store.dispatch("craft/getCraftIdData",{accessToken:e}).then((function(){t.craftIdDataLoaded=!0,t.$emit("dataLoaded")}))}else this.craftIdDataLoaded=!0,this.$emit("dataLoaded")},loadData:function(){this.loadPluginStoreData(),this.loadCraftData(function(){this.loadCraftIdData(),this.loadCartData()}.bind(this))},loadPluginStoreData:function(){var t=this;this.$store.dispatch("pluginStore/getCoreData").then((function(){t.coreDataLoaded=!0,t.$emit("dataLoaded")})).catch((function(e){if(!o.a.isCancel(e))throw t.pluginStoreDataError=!0,t.statusMessage=t.$options.filters.t("The Plugin Store is not available, please try again later.","app"),e})),this.$store.dispatch("craft/getPluginLicenseInfo").then((function(){t.pluginLicenseInfoLoaded=!0,t.$emit("dataLoaded")})).catch((function(t){if(!o.a.isCancel(t))throw t}))},onDataLoaded:function(){return this.pluginStoreDataLoaded&&this.craftDataLoaded&&this.cartDataLoaded&&this.craftIdDataLoaded?(this.allDataLoaded=!0,void this.$emit("allDataLoaded")):null}},created:function(){this.pageTitle=this.$options.filters.t("Plugin Store","app"),this.statusMessage=this.$options.filters.t("Loading Plugin Store…","app"),this.initializeOuterComponents(),this.$on("dataLoaded",this.onDataLoaded),this.loadData()}}).$mount("#app")}))},5880:function(t,e){t.exports=Vuex},"5c0b":function(t,e,n){"use strict";var i=n("9c0c"),a=n.n(i);a.a},6337:function(t,e,n){"use strict";var i=n("129c"),a=n.n(i);a.a},6389:function(t,e){t.exports=VueRouter},"694d":function(t,e,n){"use strict";var i=n("d4c1"),a=n.n(i);a.a},6996:function(t,e,n){"use strict";var i=n("4565"),a=n.n(i);a.a},"750e":function(t,e,n){},"7aa4":function(t,e,n){},"7fb8":function(t,e,n){"use strict";var i=n("4394"),a=n.n(i);a.a},"7fbf":function(t,e,n){"use strict";var i=n("880d"),a=n.n(i);a.a},8127:function(t,e,n){"use strict";var i=n("d74c"),a=n.n(i);a.a},"880d":function(t,e,n){},"88da":function(t,e,n){"use strict";var i=n("d667"),a=n.n(i);a.a},"8bbf":function(t,e){t.exports=Vue},"8cc0":function(t,e,n){},9111:function(t,e,n){"use strict";var i=n("956e"),a=n.n(i);a.a},"915b":function(t,e,n){},"956e":function(t,e,n){},9819:function(t,e,n){"use strict";var i=n("d0f9"),a=n.n(i);a.a},"9c0c":function(t,e,n){},"9c73":function(t,e,n){"use strict";var i=n("e965"),a=n.n(i);a.a},c48d:function(t,e,n){"use strict";var i=n("d9b4"),a=n.n(i);a.a},c4cc:function(t,e,n){"use strict";var i=n("e0af"),a=n.n(i);a.a},c7f8:function(t,e,n){"use strict";var i=n("7aa4"),a=n.n(i);a.a},c855:function(t,e,n){"use strict";var i=n("e46b"),a=n.n(i);a.a},c8a8:function(t,e,n){"use strict";var i=n("0a61"),a=n.n(i);a.a},c8ad:function(t,e,n){},cebe:function(t,e){t.exports=axios},d0f9:function(t,e,n){},d4c1:function(t,e,n){},d56d:function(t,e,n){"use strict";var i=n("8cc0"),a=n.n(i);a.a},d667:function(t,e,n){},d74c:function(t,e,n){},d9b4:function(t,e,n){},daf1:function(t,e,n){},e0af:function(t,e,n){},e46b:function(t,e,n){},e965:function(t,e,n){},ed0e:function(t,e,n){},f616:function(t,e,n){},f816:function(t,e,n){},fd1f:function(t,e,n){}});
//# sourceMappingURL=app.js.map