{"version":3,"sources":["pagebreak/pagebreak.js"],"names":["Redactor","add","translations","en","insert-page-break","init","app","this","lang","selection","editor","start","toolbar","addButton","title","get","api","setIcon","insert","$pagebreakNode","$","$currentBlock","getBlock","length","insertAfter","appendTo","getElement","nodes","$p","focus","setAll"],"mappings":"AAuCGA,SAtCIC,IAAI,SAAU,YAAa,CAC1BC,aAAc,CACVC,GAAI,CACAC,oBAAqB,sBAG7BC,KAAM,SAASC,GACXC,KAAKD,IAAMA,EACXC,KAAKC,KAAOF,EAAIE,KAChBD,KAAKE,UAAYH,EAAIG,UACrBF,KAAKG,OAASJ,EAAII,QAEtBC,MAAO,WACWJ,KAAKD,IAAIM,QAAQC,UAAU,YAAa,CAClDC,MAAOP,KAAKC,KAAKO,IAAI,qBACrBC,IAAK,4BAEDC,QAAQ,sCAEpBC,OAAQ,WACJ,IAAIC,EAAiBC,EAAE,oGACnBC,EAAgBD,EAAEb,KAAKE,UAAUa,YAIjCD,EAAcE,OACdJ,EAAeK,YAAYH,GAG3BF,EAAeM,SAASlB,KAAKG,OAAOgB,aAAaC,MAAM,IAG3D,IAAIC,EAAKR,EAAE,gBAAgBI,YAAYL,GAEvCZ,KAAKG,OAAOmB,QACZtB,KAAKE,UAAUqB,OAAOF,EAAG","file":"pagebreak.js","sourcesContent":["(function($R) {\n    $R.add('plugin', 'pagebreak', {\n        translations: {\n            en: {\n                \"insert-page-break\": \"Insert Page Break\"\n            }\n        },\n        init: function(app) {\n            this.app = app;\n            this.lang = app.lang;\n            this.selection = app.selection;\n            this.editor = app.editor;\n        },\n        start: function() {\n            var $button = this.app.toolbar.addButton('pagebreak', {\n                title: this.lang.get('insert-page-break'),\n                api: 'plugin.pagebreak.insert'\n            });\n            $button.setIcon('<i class=\"re-icon-pagebreak\"></i>');\n        },\n        insert: function() {\n            var $pagebreakNode = $('<hr class=\"redactor_pagebreak\" style=\"display:none\" unselectable=\"on\" contenteditable=\"false\" />'),\n                $currentBlock = $(this.selection.getBlock());\n\n            // debugger;\n\n            if ($currentBlock.length) {\n                $pagebreakNode.insertAfter($currentBlock);\n            }\n            else {\n                $pagebreakNode.appendTo(this.editor.getElement().nodes[0]);\n            }\n\n            var $p = $('<p><br/></p>').insertAfter($pagebreakNode);\n\n            this.editor.focus();\n            this.selection.setAll($p[0]);\n        }\n    });\n})(Redactor);\n"]}